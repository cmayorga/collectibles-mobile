(this["webpackJsonpcollectibles-mobile"]=this["webpackJsonpcollectibles-mobile"]||[]).push([[1],{1063:function(e,t,n){"use strict";n.r(t);var r,a=n(57),c=n.n(a),i=n(36),o=n(3),s=n(12),l=n(8),u=n.n(l),d=n(28),b=n(0),j=n(29),O=n(464),p=n(260),f=n(447),h=n(16),g=n(41),m=n(17);!function(e){e.XXL="2.625rem",e.XL="2rem",e.L="1.3125rem",e.M="0.9375rem",e.SM="0.75rem",e.XS="0.6875rem",e.XXS="0.4375rem"}(r||(r={}));var x,v=n(18),y=Object({NODE_ENV:"production",PUBLIC_URL:"/collectibles-mobile",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORAGE_VERSION||0,S="collectibles-mobile-v".concat(y,"::");!function(e){e.PRIVATE_KEY="pk",e.PIN="pin",e.USERNAME="username"}(x||(x={}));var C,E=function(e){return e.app.baseUrl},N=function(e){return e.app.userPrivateKey},T=function(e){return e.app.username},L=function(e){return e.network.nodeCryptoConfiguration},_=n(159),w=n(422),A=n(4),R=n(9),k=n(87),I=n(451),z=n.n(I),M=function(){function e(){Object(A.a)(this,e)}return Object(R.a)(e,null,[{key:"hash",value:function(e){return k.utils.hex.fromBytes(z()(e,{asBytes:!0}))}},{key:"encode",value:function(e,t){var n=new k.ModeOfOperation.ctr(k.utils.hex.toBytes(t)).encrypt(k.utils.utf8.toBytes(e));return k.utils.hex.fromBytes(n)}},{key:"decode",value:function(e,t){var n=new k.ModeOfOperation.ctr(k.utils.hex.toBytes(t)).decrypt(k.utils.hex.toBytes(e));return k.utils.utf8.fromBytes(n)}}]),e}(),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage,t=function(t,n){try{var r=JSON.stringify(n);e.setItem("".concat(S).concat(t),r)}catch(a){throw new Error('Failed to serialize value for key: "'.concat(t,'"'))}},n=function(t){try{var n=e.getItem("".concat(S).concat(t));if(!n)return;return JSON.parse(n)}catch(r){throw new Error('Failed to deserialize value for key: "'.concat(t,'"'))}},r=function(t){e.removeItem("".concat(S).concat(t))},a=function(){e.clear()};return{set:t,get:n,removeItem:r,clear:a}},D=n(1);!function(e){e[e.Unknown=0]="Unknown",e[e.NeedRegistration=1]="NeedRegistration",e[e.PinProtected=2]="PinProtected",e[e.LoggedIn=3]="LoggedIn",e[e.Error=4]="Error"}(C||(C={}));var U,F,W,B,K,q,X,G,H,V={session:{state:C.Unknown,error:null}},Y=Object(b.createContext)({}),J=P(window.sessionStorage),$=function(e){var t=e.children,n=Object(b.useState)(Object(s.a)({},V)),r=Object(v.a)(n,2),a=r[0],c=r[1],o=Object(i.d)(N,i.b),l=Object(i.d)(L,i.b),u=Object(i.d)(T,i.b);Object(b.useEffect)((function(){null===o&&c({session:{state:C.NeedRegistration,error:null}})}),[o]);var d=Object(b.useCallback)((function(e,t,n,r){try{var a=M.decode(t,e),i=JSON.parse(a).passphrase,o=n.network.pubKeyHash,s=_.Identities.Address.fromPassphrase(i,o),l=_.Identities.PublicKey.fromPassphrase(i);c({session:{state:C.LoggedIn,error:null,address:s,passphrase:i,publicKey:l,username:r}})}catch(u){console.warn("decode failed",u),c({session:{state:C.Error,error:u}})}finally{J.removeItem(x.PIN)}}),[]);Object(b.useEffect)((function(){!J.get(x.PIN)&&o&&l&&c({session:{state:C.PinProtected,error:null}})}),[o,l]),Object(b.useEffect)((function(){var e=J.get(x.PIN);e&&o&&l&&d(e,o,l,u)}),[o,l,d,a.session,u]);var j=Object(b.useCallback)((function(e){J.set(x.PIN,M.hash(e)),c(Object(s.a)({},V))}),[]),O=Object(b.useMemo)((function(){return{session:a.session,setPin:j}}),[a.session,j]);return Object(D.jsx)(Y.Provider,{value:O,children:t})},Z=function(){function e(){Object(A.a)(this,e)}return Object(R.a)(e,null,[{key:"serializeLineHeight",value:function(e){switch(e){case r.XL:return"line-height: 2.0625rem;";case r.SM:return"line-height: 1.125rem;";case r.XS:return"line-height: 95%;";default:return""}}},{key:"serializeFontSize",value:function(t){if(t)return"\n      ".concat(e.serializeLineHeight(t),"\n      font-size: ").concat(t," !important;\n    ")}},{key:"serializeFontWeight",value:function(e){if(e)return"font-weight: ".concat(e,";")}}]),e}(),Q=Object(m.a)(o.l)(U||(U=Object(h.a)(["\n  ","\n  ","\n"])),(function(e){var t=e.fontSize;return Z.serializeFontSize(t)}),(function(e){var t=e.fontWeight;return Z.serializeFontWeight(t)})),ee=Object(m.a)(o.o)(F||(F=Object(h.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n  --max-width: 70vw;\n"]))),te=Object(m.a)(o.y)(W||(W=Object(h.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]))),ne=Object(m.a)(o.e)(B||(B=Object(h.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]))),re=Object(m.a)(o.b)(K||(K=Object(h.a)(["\n  &&&& {\n    margin-left: 1rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0.75rem;\n  }\n"]))),ae=Object(m.a)(o.i)(q||(q=Object(h.a)(["\n  &&&& {\n    margin-left: 1rem;\n    margin-right: 1.25rem;\n  }\n"]))),ce=Object(m.a)(Q)(X||(X=Object(h.a)(["\n  &&&& {\n    margin-top: 1.125rem;\n    margin-bottom: 1.125rem;\n  }\n"]))),ie=function(e){var t=e.icon,n=e.label,a=e.navigateTo,c=e.onMenuClose,i=Object(j.f)(),s=Object(b.useCallback)((function(e){i.push(e)}),[i]);return Object(D.jsxs)(o.k,{lines:"none",class:"app-bg-color-transparent",children:[Object(D.jsx)(ae,{color:"light",icon:t,slot:"start"}),Object(D.jsx)(ce,{className:"ion-text-uppercase",color:"light",fontSize:r.SM,onClick:function(){a&&(s(a),c())},children:n})]})},oe=function(){var e=Object(b.useContext)(Y).session.state,t=Object(b.useRef)(),n=Object(b.useCallback)((function(e){e&&e.preventDefault(),t.current&&t.current.close(!0)}),[t]);return e!==C.LoggedIn?Object(D.jsx)(D.Fragment,{}):Object(D.jsxs)(ee,{ref:function(e){t.current=e},side:"start","content-id":"main-content","menu-id":"main-menu",children:[Object(D.jsx)(o.h,{className:"ion-no-border",children:Object(D.jsx)(te,{children:Object(D.jsx)(o.c,{slot:"start",children:Object(D.jsx)(re,{onClick:function(e){return n(e)},children:Object(D.jsx)(o.i,{color:"light",slot:"icon-only",icon:g.a})})})})}),Object(D.jsx)(ne,{children:Object(D.jsxs)(o.m,{color:"none",class:"app-bg-color-transparent",children:[Object(D.jsx)(ie,{icon:g.i,label:"Home",navigateTo:"/home",onMenuClose:n}),Object(D.jsx)(ie,{icon:g.m,label:"My Profile",navigateTo:"/home/profile",onMenuClose:n})]})})]})},se=n(157),le=function(e){var t=e.component,n=e.requiresCordova,r=Object(se.a)(e,["component","requiresCordova"]),a=Object(b.useContext)(Y).session.state,c=Object(j.f)();return n&&!Object(o.H)("cordova")?Object(D.jsx)(o.x,{isOpen:!0,onDidDismiss:function(){return c.replace("/")},message:"This feature requires to be run on native platform(iOS, Android)!",duration:2e3}):Object(D.jsx)(j.b,Object(s.a)(Object(s.a)({},r),{},{render:function(e){switch(a){case C.LoggedIn:return Object(D.jsx)(t,Object(s.a)({},e));case C.NeedRegistration:return Object(D.jsx)(j.a,{to:"/welcome",push:!1});case C.PinProtected:case C.Error:return Object(D.jsx)(j.a,{to:"/passcode",push:!1});case C.Unknown:default:return Object(D.jsx)(o.n,{isOpen:!0,message:"Please wait..."})}}}))},ue=function(){var e=Object(b.useRef)(!1);return Object(b.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e},de=n(1126),be=n(466);!function(e){e.NORMAL="400",e.BOLD="700"}(G||(G={}));var je,Oe,pe,fe,he,ge,me,xe,ve=Object(m.a)(o.v)(H||(H=Object(h.a)(["\n  display: inline-block;\n  ","\n  ","\n"])),(function(e){var t=e.fontSize;return Z.serializeFontSize(t)}),(function(e){var t=e.fontWeight;return Z.serializeFontWeight(t)})),ye=Object(m.a)(o.t)(je||(je=Object(h.a)(["\n  display: flex;\n"]))),Se=Object(m.a)(o.d)(Oe||(Oe=Object(h.a)(["\n  flex-grow: 1;\n  padding: 0.25rem;\n"]))),Ce=m.a.div(pe||(pe=Object(h.a)(["\n  ","\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  height: 100%;\n\n  ","\n\n  ","\n"])),(function(e){var t=e.isGrayBg,n=e.isBlueBg;return t?"background: var(--app-color-gray);":n?"background: var(--app-color-blue-bg);":"background: var(--app-color-charade);"}),(function(e){var t=e.isDescription;return"text-align: ".concat(t?"left":"center",";")}),(function(e){return e.isDescription?"padding: 1.65rem 1.15rem;":"padding: 2.7rem 0.55rem;"})),Ee=m.a.div(fe||(fe=Object(h.a)(["\n  background: var(--app-color-charade);\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: center;\n  overflow: hidden;\n  height: 100%;\n  padding: 1.25rem 1.75rem;\n\n  .text {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    padding-left: 1rem;\n\n    ion-text {\n      &:first-child {\n        padding-bottom: 0.25rem;\n      }\n    }\n  }\n"]))),Ne=function(e){var t=e.title,n=e.subtitle,a=e.description,c=e.isGrayBg,i=e.isBlueBg,o=e.onClick,l=Object(se.a)(e,["title","subtitle","description","isGrayBg","isBlueBg","onClick"]);return Object(D.jsx)(Se,Object(s.a)(Object(s.a)({},l),{},{children:Object(D.jsxs)(Ce,{isGrayBg:c,isBlueBg:i,isDescription:!!a,onClick:o,children:[n&&Object(D.jsx)(ve,{fontSize:r.SM,fontWeight:G.BOLD,color:"light",children:n}),t&&Object(D.jsx)(ve,{className:"ion-text-capitalize",fontSize:r.XXS,color:"light",children:t}),a&&Object(D.jsx)(ve,{fontSize:r.SM,color:"light",children:a})]})}))},Te=function(e){var t=e.title,n=e.subtitle,a=e.icon,c=Object(se.a)(e,["title","subtitle","icon"]);return Object(D.jsx)(Se,Object(s.a)(Object(s.a)({},c),{},{children:Object(D.jsxs)(Ee,{children:[a&&Object(D.jsx)(o.i,{size:"large",color:"light",slot:"icon-only",icon:a}),Object(D.jsxs)("div",{className:"text",children:[t&&Object(D.jsx)(ve,{className:"ion-text-capitalize",fontSize:r.SM,color:"light",children:t}),n&&Object(D.jsx)(ve,{className:"ion-text-capitalize",fontSize:r.XXS,color:"light",children:n})]})]})}))},Le=function(e){var t=e.children;return Object(D.jsx)(ye,{className:"ion-padding-horizontal ion-no-margin",children:t})},_e=Object(m.a)(o.w)(he||(he=Object(h.a)(["\n  ","\n  ","\n"])),(function(e){var t=e.fontSize;return Z.serializeFontSize(t)}),(function(e){var t=e.fontWeight;return Z.serializeFontWeight(t)})),we=Object(m.a)(o.y)(ge||(ge=Object(h.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]))),Ae=Object(m.a)(o.y)(me||(me=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  max-height: 2.25rem;\n  --background: var(--app-color-dark-cyan-blue);\n"]))),Re=function(e){var t=e.children,n=e.title,a=e.buttonTopLeft;return Object(D.jsxs)(o.h,{className:"ion-no-border",children:[Object(D.jsxs)(we,{children:[Object(D.jsx)(o.c,{slot:"start",children:a?Object(D.jsx)(D.Fragment,{children:a}):Object(D.jsx)(o.p,{menu:"main-menu","auto-hide":"false",children:Object(D.jsx)(o.i,{color:"light",icon:g.k})})}),Object(D.jsx)(o.c,{slot:"primary",children:Object(D.jsx)(o.b,{children:Object(D.jsx)(o.i,{color:"light",slot:"icon-only",icon:g.p})})}),Object(D.jsx)(_e,{color:"light",fontSize:r.L,className:"ion-text-center",children:n})]}),t&&Object(D.jsx)(Ae,{className:"ion-no-padding",children:t})]})},ke=m.a.img(xe||(xe=Object(h.a)(["\n  height: auto;\n  width: 100%;\n  object-fit: cover;\n"]))),Ie="/assets/images/welcome-screen.png",ze="/assets/images/driver.png",Me="/assets/images/driver-high-res.png",Pe=function(){return"protokol.github.io"===window.location.hostname?"/collectibles-mobile":""},De=function(e){return"https://gateway.pinata.cloud/ipfs/".concat(e)},Ue={alt:"Welcome",src:"".concat(Pe()).concat(Ie),srcSet:"".concat(Pe()).concat(Ie," 1x, ").concat(Pe()).concat("/assets/images/welcome-screen@2x.png"," 2x")},Fe=("".concat(Pe()).concat(ze),"".concat(Pe()).concat(ze," 1x, ").concat(Pe()).concat("/assets/images/driver@2x.png"," 2x"),{alt:"Driver",src:"".concat(Pe()).concat(Me),srcSet:"".concat(Pe()).concat(Me," 1x, ").concat(Pe()).concat("/assets/images/driver-high-res@2x.png"," 2x")}),We=function(e){return e.collections},Be=function e(){Object(A.a)(this,e)};Be.LOCATION_ICON_SVG='<?xml version="1.0" encoding="iso-8859-1"?> <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <g> <path fill="white" d="M256,0C156.748,0,76,80.748,76,180c0,33.534,9.289,66.26,26.869,94.652l142.885,230.257 c2.737,4.411,7.559,7.091,12.745,7.091c0.04,0,0.079,0,0.119,0c5.231-0.041,10.063-2.804,12.75-7.292L410.611,272.22 C427.221,244.428,436,212.539,436,180C436,80.748,355.252,0,256,0z M384.866,256.818L258.272,468.186l-129.905-209.34 C113.734,235.214,105.8,207.95,105.8,180c0-82.71,67.49-150.2,150.2-150.2S406.1,97.29,406.1,180 C406.1,207.121,398.689,233.688,384.866,256.818z"/> </g> </g> <g> <g> <path fill="white" d="M256,90c-49.626,0-90,40.374-90,90c0,49.309,39.717,90,90,90c50.903,0,90-41.233,90-90C346,130.374,305.626,90,256,90z M256,240.2c-33.257,0-60.2-27.033-60.2-60.2c0-33.084,27.116-60.2,60.2-60.2s60.1,27.116,60.1,60.2 C316.1,212.683,289.784,240.2,256,240.2z"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>',Be.LOCATION_BASE_64="data:image/svg+xml;charset=UTF-8;base64,"+btoa(Be.LOCATION_ICON_SVG);var Ke,qe,Xe=function e(){Object(A.a)(this,e)};Xe.MapStyles=function(){return[{elementType:"geometry",stylers:[{color:"#262732"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#262732"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#262732"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#262732"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#51525B"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#51525B"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#51525B"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#51525B"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]};var Ge,He=Object(m.a)(o.d)(Ke||(Ke=Object(h.a)(["\n  --padding-start: 0.5rem;\n  padding-top: 0.5rem;\n"]))),Ve=m.a.div(qe||(qe=Object(h.a)(["\n  height: 300px;\n  width: 100%;\n  padding: 0.25rem 1.25rem 2rem;\n"]))),Ye=function(){var e=Object(j.g)().assetId,t=Object(j.f)(),n=Object(i.d)(We,i.b).assets,r=Object(b.useMemo)((function(){return n.flat().find((function(t){return t.id===e}))}),[n,e]),a=r.attributes,c=r.timestamp.unix,s=a,l=s.ipfsHashImageFront,u=s.title,d=s.carNumber,O=s.season,p=s.issuedLocation,f=s.issuedAddress,h=s.description,m=s.issuedLocationLng,x=s.issuedLocationLat,v=Object(b.useCallback)((function(e,t){new e.Marker({position:new e.LatLng(x,m),map:t,title:p,icon:{url:Be.LOCATION_BASE_64,fillColor:"white",scaledSize:new e.Size(20,20)}})}),[x,m,p]);return Object(D.jsxs)(o.q,{children:[Object(D.jsx)(Re,{title:u,buttonTopLeft:Object(D.jsx)(o.b,{onClick:function(){return t.replace("/home")},children:Object(D.jsx)(o.i,{color:"light",slot:"icon-only",icon:g.a})})}),Object(D.jsx)(o.e,{fullscreen:!0,children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(o.t,{children:[Object(D.jsx)(o.d,{className:"ion-no-padding",size:"12",children:Object(D.jsx)(ke,{src:De(l)})}),Object(D.jsxs)(He,{className:"ion-no-padding ion-no-margin",size:"12",children:[Object(D.jsxs)(Le,{children:[Object(D.jsx)(Ne,{size:"4",title:"CAR NUMBER",subtitle:d}),Object(D.jsx)(Ne,{size:"4",title:"SEASON",subtitle:O}),Object(D.jsx)(Ne,{size:"4",title:"COLLECTED ON",subtitle:Object(de.a)(new Date(c),"MM/dd/yyyy")})]}),Object(D.jsx)(Le,{children:Object(D.jsx)(Ne,{size:"12",description:h})}),Object(D.jsx)(Le,{children:Object(D.jsx)(Te,{size:"12",icon:g.j,title:p,subtitle:f})})]}),x&&m&&Object(D.jsx)(o.d,{size:"12",children:Object(D.jsx)(Ve,{children:Object(D.jsx)(be.a,{options:{styles:Xe.MapStyles(),disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!0,draggable:!1,fullscreenControl:!1},bootstrapURLKeys:{key:"AIzaSyAzYuxD62y_TmSlgLXhfXywHrNLCsR4a40"},defaultCenter:{lat:x,lng:m},defaultZoom:13,onGoogleApiLoaded:function(e){var t=e.maps,n=e.map;return v(t,n)},yesIWantToUseGoogleMapApiInternals:!0})})})]})})})]})},Je=n(1129);!function(e){e.CLAIM_ASSET="@AssetClaim/CLAIM_ASSET",e.CLAIM_ASSET_SUCCESS="@AssetClaim/CLAIM_ASSET_SUCCESS",e.CLAIM_ASSET_ERROR="@AssetClaim/CLAIM_ASSET_ERROR"}(Ge||(Ge={}));var $e,Ze,Qe,et,tt=function(e){return{type:Ge.CLAIM_ASSET_ERROR,payload:{error:e}}},nt=function(e){return e.assetClaim},rt=function(e){return e.transaction.transactions},at=Object(m.a)(o.d)($e||($e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 56px);\n  overflow: hidden;\n  z-index: 3;\n  text-align: center;\n\n  &:before {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100vh;\n    height: 100vh;\n    z-index: 1;\n    background-image: url('","');\n    background-size: 100vh auto;\n    background-repeat: no-repeat;\n    background-position: 0 -70%;\n    transform: rotate(-90deg);\n  }\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 2;\n    opacity: 0.75;\n    background-color: var(--app-color-black);\n  }\n\n  > * {\n    z-index: 3;\n  }\n"])),Fe.src),ct=Object(Je.a)(),it=function(){var e=Object(j.g)().collectionId,t=Object(j.f)(),n=Object(i.c)(),a=Object(i.d)(nt,i.b),c=Object(i.d)(rt,i.b),s=Object(b.useMemo)((function(){return c[ct]}),[c]),l=Object(b.useCallback)((function(){return(null===a||void 0===a?void 0:a.isLoading)||(null===s||void 0===s?void 0:s.isLoading)}),[a,s]),u=Object(b.useCallback)((function(){return(null===a||void 0===a?void 0:a.isError)||(null===s||void 0===s?void 0:s.isError)}),[a,s]),d=Object(b.useCallback)((function(){return"".concat(null===a||void 0===a?void 0:a.error).concat(null===s||void 0===s?void 0:s.error)}),[a,s]),O=Object(b.useContext)(Y).session.address,p=ue();return Object(b.useEffect)((function(){p&&e&&O&&n(function(e,t,n){return{type:Ge.CLAIM_ASSET,payload:{collectionId:e,recipientId:t,txUuid:n}}}(e,O,ct))}),[p,n,e,O]),Object(D.jsxs)(o.q,{children:[Object(D.jsx)(Re,{title:"Collect Cards",buttonTopLeft:Object(D.jsx)(o.b,{onClick:function(){return t.replace("/home")},children:Object(D.jsx)(o.i,{color:"light",slot:"icon-only",icon:g.a})})}),Object(D.jsx)(o.e,{fullscreen:!0,children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsx)(o.t,{children:Object(D.jsxs)(at,{size:"12",children:[l()&&Object(D.jsx)(o.u,{color:"light"}),!l()&&u()&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ve,{color:"danger",fontSize:r.XXL,children:"Something went wrong!"}),Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.SM,color:"light",children:d})]}),!l()&&!u()&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ve,{color:"success",fontSize:r.XXL,children:"Hooray!"}),Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.L,color:"light",children:"You just received a new hero card!"})]})]})})})})]})},ot=m.a.div(Ze||(Ze=Object(h.a)(["\n  position: absolute;\n  width: 56%;\n  top: -5%;\n  right: -5%;\n"]))),st=Object(m.a)(ve)(Qe||(Qe=Object(h.a)(["\n  position: absolute;\n  top: 15%;\n  right: 29%;\n  font-size: 0.625rem;\n"])));!function(e){e.None="none",e.Signed="signed",e.Limited="limited"}(et||(et={}));var lt,ut,dt,bt,jt,Ot,pt,ft,ht,gt,mt=function(e){switch(e){case et.Signed:return"#8AC827";case et.Limited:return"#FCCF45";case et.None:default:return""}},xt=function(e){var t=e.type,n=void 0===t?et.None:t;return n!==et.None?Object(D.jsxs)(ot,{children:[Object(D.jsx)("svg",{viewBox:"0 0 2000 500",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(D.jsx)("rect",{x:"190",y:"0",width:"90%",height:"100%",transform:"skewX(-20)",fill:mt(n)})}),Object(D.jsxs)(st,{color:"light",className:"ion-text-uppercase",children:[n,"!"]})]}):Object(D.jsx)(D.Fragment,{})},vt=m.a.div(lt||(lt=Object(h.a)(["\n  position: relative;\n  overflow: visible;\n"]))),yt=Object(m.a)(_e)(ut||(ut=Object(h.a)(["\n  font-size: 0.875rem;\n  padding-bottom: 0.1rem;\n"]))),St=Object(m.a)(_e)(dt||(dt=Object(h.a)(["\n  padding-bottom: 0.1rem;\n"]))),Ct=Object(m.a)(_e)(bt||(bt=Object(h.a)(["\n  font-size: 0.625rem;\n  font-style: italic;\n  opacity: 0.5;\n  padding-bottom: 0.1rem;\n"]))),Et=function(e){var t=e.id,n=e.title,a=e.subtitle,c=e.details,i=e.imgIpfsHash,o=e.type,s=Object(j.f)();return Object(D.jsxs)(vt,{onClick:function(){return s.push("/home/card/".concat(t))},children:[Object(D.jsx)(xt,{type:o}),Object(D.jsx)(ke,{src:De(i)}),n&&Object(D.jsx)(yt,{className:"ion-no-padding ion-text-left",fontWeight:G.BOLD,children:n}),a&&Object(D.jsx)(St,{className:"ion-no-padding",fontSize:r.SM,children:a}),c&&Object(D.jsx)(Ct,{className:"ion-no-padding",children:c})]})},Nt=Object(m.a)(o.b)(jt||(jt=Object(h.a)(["\n  &::part(native) {\n  }\n\n  ","\n\n  &[size='large'] {\n    height: 4.8rem;\n    --padding-top: 1rem;\n    --padding-bottom: 1rem;\n  }\n\n  ","\n  ","\n"])),(function(e){var t=e.radius;return void 0===t||t?"--border-radius: 0.25rem;":"--border-radius: 0;"}),(function(e){var t=e.fontSize;return Z.serializeFontSize(t)}),(function(e){var t=e.fontWeight;return Z.serializeFontWeight(t)})),Tt=m.a.ul(Ot||(Ot=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  margin-bottom: 0;\n  list-style: none;\n"]))),Lt=m.a.li(pt||(pt=Object(h.a)(["\n  flex: 1 1 auto;\n  text-align: center;\n\n  &.center {\n    justify-content: center;\n    display: flex;\n    align-items: center;\n  }\n"]))),_t=Object(m.a)(ve)(ft||(ft=Object(h.a)(["\n  padding-top: 0.45rem;\n"]))),wt=Object(m.a)(Nt)(ht||(ht=Object(h.a)(["\n  ","\n"])),(function(e){return e.active?"\n        text-decoration: underline;\n      ":"color: var(--app-color-charade);"})),At=function(e){var t=e.options,n=e.defaultIndex,a=void 0===n?0:n,c=Object(b.useState)(a),i=Object(v.a)(c,2),o=i[0],s=i[1];return Object(D.jsxs)(Tt,{children:[Object(D.jsx)(Lt,{children:Object(D.jsx)(_t,{fontSize:r.SM,children:"Sort by:"})}),t.map((function(e,t){var n=o===t;return Object(D.jsx)(Lt,{children:Object(D.jsx)(wt,{active:n,color:n?"danger":"",size:"small",fill:"clear",className:"ion-text-capitalize ion-no-margin",fontSize:r.SM,radius:!1,onClick:function(){return s(t)},children:e})},e)}))]})};!function(e){e.COLLECTIONS_LOAD="@Collections/COLLECTIONS_LOAD",e.COLLECTIONS_LOAD_SUCCESS="@Collections/COLLECTIONS_LOAD_SUCCESS",e.COLLECTIONS_LOAD_ERROR="@Collections/COLLECTIONS_LOAD_ERROR"}(gt||(gt={}));var Rt,kt,It,zt,Mt=function(e,t){return{type:gt.COLLECTIONS_LOAD,payload:{query:t,pubKey:e}}},Pt=function(e){return{type:gt.COLLECTIONS_LOAD_ERROR,payload:{error:e}}},Dt=Object(m.a)(o.d)(Rt||(Rt=Object(h.a)(["\n  padding: 1.375rem;\n\n  &:nth-child(odd) {\n    padding-left: 0.6875rem;\n  }\n  &:nth-child(even) {\n    padding-right: 0.6875rem;\n  }\n"]))),Ut=Object(m.a)(o.f)(kt||(kt=Object(h.a)(["\n  position: fixed;\n  bottom: 0;\n"]))),Ft=Object(m.a)(o.t)(It||(It=Object(h.a)(["\n  overflow: auto;\n  max-height: calc(100vh - 92px - 4.8rem);\n"]))),Wt=function(){var e=Object(j.f)(),t=Object(i.d)(We,i.b),n=t.isError,a=t.error,c=t.isLoading,l=t.assets,u=t.isLastPage,d=t.query,O=Object(i.c)(),p=Object(b.useContext)(Y).session.publicKey,f=ue();Object(b.useEffect)((function(){p&&f&&O(Mt(p))}),[f,O,p]);var h=Object(b.useCallback)((function(){if(p){var e=(null!==d&&void 0!==d?d:{page:1}).page;O(Mt(p,Object(s.a)(Object(s.a)({},d),{},{page:e+1})))}}),[d,O,p]),g=Object(b.useMemo)((function(){return l.flat()}),[l]),m=Object(b.useCallback)((function(e){var t=e.target;!(t.scrollHeight-t.scrollTop===t.clientHeight)||u||c||h()}),[h,u,c]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(Ft,{onScroll:m,children:[!c&&n&&Object(D.jsxs)(o.d,{size:"12",class:"ion-text-center ion-padding-top",children:[Object(D.jsx)(ve,{color:"danger",fontSize:r.XXL,children:"Something went wrong!"}),Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.SM,color:"light",children:a})]}),!c&&!!g.length&&!n&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(o.d,{size:"12",className:"ion-margin-bottom",children:Object(D.jsx)(At,{options:["All","Newest","Name","Team","Race"]})}),g.map((function(e){var t=e.id,n=e.attributes,r=n.title,a=n.subtitle,c=n.ipfsHashImageFront,i=n.tags,o=Array.isArray(i)&&i.length?i[0]:et.None;return Object(D.jsx)(Dt,{size:"6",children:Object(D.jsx)(Et,{id:t,title:r,subtitle:a,imgIpfsHash:c,type:o})},t)}))]}),!c&&!g.length&&!n&&Object(D.jsx)(o.d,{size:"12",class:"ion-text-center",children:Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.L,color:"primary",children:"No collectables yet!"})}),c&&!g.length&&Object(D.jsx)(o.d,{size:"12",class:"ion-text-center ion-padding-top",children:Object(D.jsx)(o.u,{color:"primary"})})]})}),Object(D.jsx)(Ut,{className:"ion-no-border",children:Object(D.jsx)(o.y,{children:Object(D.jsx)(Nt,{color:"primary",size:"large",className:"ion-text-uppercase ion-no-margin",fontSize:r.SM,fontWeight:G.BOLD,radius:!1,expand:"block",onClick:function(){e.push("/home/scan-qr")},children:"Add new card"})})})]})};function Bt(e){var t=Object(b.useRef)();return t.current||(t.current={v:e()}),t.current.v}var Kt,qt,Xt,Gt,Ht,Vt,Yt,Jt,$t,Zt,Qt=m.a.ul(zt||(zt=Object(h.a)(["\n  position: relative;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  background-color: --var(--app-dark-cyan-blue);\n\n  &:after {\n    content: ' ';\n    display: table;\n    clear: both;\n  }\n\n  > li {\n    float: left;\n    width: ","%;\n    padding-bottom: 0.25rem;\n    text-align: center;\n\n    &.slider {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 4px;\n      background-color: var(--ion-color-danger);\n      transform-origin: 0 0;\n      transition: transform 0.25s;\n    }\n\n    ","\n  }\n"])),(function(e){return(100/e.tabsLength).toFixed(2)}),(function(e){var t=e.tabsLength;return Array.from({length:t},(function(e,n){return"\n      :nth-child(".concat(n+1,").active ~ .slider {\n        transform: translateX(calc(").concat((100/t).toFixed(2),"% * ").concat(n,")) scaleX(").concat((100/t/100).toFixed(2),");\n}\n    ")})).join(" ")})),en=Object(b.createContext)([0,function(){}]),tn=Object(b.createContext)({tabs:0,panels:0}),nn=function(e){var t=e.state,n=e.children,r=Object(b.useState)(0),a=Bt((function(){return{tabs:0,panels:0}})),c=t||r;return Object(D.jsx)(tn.Provider,{value:a,children:Object(D.jsx)(en.Provider,{value:c,children:n})})},rn=function(e){var t=e.children,n=Object(b.useContext)(tn);return Object(D.jsxs)(Qt,{tabsLength:n.tabs,children:[t,Object(D.jsx)("li",{className:"slider"})]})},an=function(e){var t=e.children,n=function(){var e=Object(b.useContext)(en),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(b.useContext)(tn),c=Bt((function(){var e=a.tabs;return a.tabs+=1,e})),i=Bt((function(){return function(){return r(c)}}));return Object(b.useMemo)((function(){return{isActive:n===c,onClick:i}}),[n,i,c])}();if("function"===typeof t)return t(n);var r=n.isActive;return Object(D.jsx)("li",{className:r?"active":"",children:Object(b.isValidElement)(t)?Object(b.cloneElement)(t,n):t})},cn=function(e){var t=e.active,n=e.children;return function(){var e=Object(b.useContext)(en),t=Object(v.a)(e,1)[0],n=Object(b.useContext)(tn);return Bt((function(){var e=n.panels;return n.panels+=1,e}))===t}()||t?Object(D.jsx)(D.Fragment,{children:n}):Object(D.jsx)(D.Fragment,{})},on=Object(m.a)(o.e)(Kt||(Kt=Object(h.a)(["\n  ","\n"])),(function(e){return e.isDarkBg&&"--background: var(--app-color-dark-cyan-blue);"})),sn=Object(m.a)(_e)(qt||(qt=Object(h.a)(["\n  line-height: 2rem;\n"]))),ln=Object(m.a)(o.d)(Xt||(Xt=Object(h.a)(["\n  position: relative;\n  padding: 3.5rem 2.05rem 1.85rem 1.5rem;\n  overflow: hidden;\n  z-index: 2;\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    opacity: 0.5;\n    background-image: url('","');\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: 50% 0;\n  }\n\n  > * {\n    position: relative;\n    z-index: 2;\n  }\n"])),Ue.src),un=Object(m.a)(Nt)(Gt||(Gt=Object(h.a)(["\n  text-decoration: underline;\n"]))),dn=Object(m.a)(o.d)(Ht||(Ht=Object(h.a)(["\n  padding: 2.25rem;\n  background: var(--ion-color-light);\n  text-align: center;\n"]))),bn=Object(m.a)(ve)(Vt||(Vt=Object(h.a)(["\n  color: var(--app-color-gray);\n"]))),jn=Object(m.a)(Nt)(Yt||(Yt=Object(h.a)(["\n  height: 3.4375rem;\n  --padding-top: 1.625rem;\n  --padding-bottom: 1.8125rem;\n\n  &.bg-gray {\n    --background: var(--app-color-gray);\n  }\n\n  &.bg-charade {\n    --background: var(--app-color-charade);\n  }\n\n  &.bg-dark-blue-magenta {\n    --background: var(--app-color-dark-blue-magenta);\n  }\n"]))),On=function(){var e=Object(j.f)(),t=Object(b.useContext)(en),n=Object(v.a)(t,2),a=n[0],c=n[1];return Object(D.jsxs)(on,{id:"main-content",fullscreen:!0,isDarkBg:a<=0,children:[Object(D.jsx)(cn,{children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(o.t,{children:[Object(D.jsxs)(ln,{size:"12",children:[Object(D.jsx)(Q,{color:"light",fontSize:r.L,fontWeight:G.BOLD,children:"Collecting Digital Hero Cards Is Easy!"}),Object(D.jsx)("br",{}),Object(D.jsx)(ve,{className:"ion-margin-vertical",color:"light",fontSize:r.XS,children:"Now you can find your favourite cards via the official NASCAR app, and digitally collect them! You can also scan QR codes at races, or buy cards at the market place."}),Object(D.jsx)("br",{}),Object(D.jsx)(un,{className:"ion-float-right",color:"light",fill:"clear",fontSize:r.SM,fontWeight:G.BOLD,onClick:function(){return c(1)},children:"Start collecting"})]}),Object(D.jsx)(dn,{children:Object(D.jsxs)(bn,{fontSize:r.L,fontWeight:G.BOLD,children:["Gentlemen,",Object(D.jsx)("br",{}),"start your engines\u2026"]})}),Object(D.jsxs)(o.d,{size:"12",children:[Object(D.jsx)(jn,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-gray",fontSize:r.SM,fontWeight:G.BOLD,onClick:function(){return e.push("/home/scan-qr")},children:"Add new card"}),Object(D.jsx)(jn,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-dark-blue-magenta",fontSize:r.SM,fontWeight:G.BOLD,onClick:function(){return e.push("/home/scan-qr")},children:"Scan qr code"})]})]})})}),Object(D.jsx)(cn,{children:Object(D.jsx)(Wt,{})})]})},pn=function(){return Object(D.jsx)(o.q,{children:Object(D.jsxs)(nn,{children:[Object(D.jsx)(Re,{children:Object(D.jsxs)(rn,{children:[Object(D.jsx)(an,{children:Object(D.jsx)(sn,{className:"ion-text-uppercase ion-text-center",fontSize:r.XS,color:"light",children:"Home"})}),Object(D.jsx)(an,{children:Object(D.jsx)(sn,{className:"ion-text-uppercase ion-text-center",fontSize:r.XS,color:"light",children:"Collectables"})})]})}),Object(D.jsx)(On,{})]})})},fn=n(64),hn="undefined"!==typeof window,gn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(b.useState)(hn?function(){return window.matchMedia(e).matches}:t),r=Object(v.a)(n,2),a=r[0],c=r[1];return Object(b.useEffect)((function(){var t=!0,n=window.matchMedia(e),r=function(){t&&c(n.matches)};return n.addEventListener("change",r),c(n.matches),function(){t=!1,n.removeEventListener("change",r)}}),[e]),a},mn=Array.from({length:9}),xn=function(e){var t=e.children,n=e.onClick,a=e.fontSize,c=void 0===a?r.L:a,i=e.size,o=void 0===i?"large":i,s=e.disabled,l=void 0!==s&&s;return Object(D.jsx)(Nt,{type:"button",size:o,expand:"block",fill:"clear",color:"light",fontSize:c,onClick:function(e){e.preventDefault(),n(e)},disabled:l,children:t})},vn=function(e){var t=e.onChange,n=e.onEnter,a=Object(b.useState)(""),c=Object(v.a)(a,2),i=c[0],s=c[1],l=gn("(min-height: 600px)"),u=gn("(min-height: 700px)"),d=Object(b.useCallback)((function(){return 4>i.length}),[i]),j=Object(b.useCallback)((function(e){d()&&s((function(t){return"".concat(t).concat(e)}))}),[s,d]),O=Object(b.useCallback)((function(){s((function(e){return e.length?e.slice(0,-1):""}))}),[s]);Object(b.useEffect)((function(){t(i)}),[i,t]);var p=Object(b.useCallback)((function(){return!u&&l?"ion-padding-vertical":""}),[u,l]);return Object(D.jsxs)(D.Fragment,{children:[mn.map((function(e,t){var n=(t+1).toString();return Object(D.jsx)(o.d,{size:"4",className:p(),children:Object(D.jsx)(xn,{size:u?"large":"default",disabled:!d(),onClick:function(){return j(n)},children:n})},t)})),Object(D.jsx)(o.d,{size:"4",offset:"4",className:p(),children:Object(D.jsx)(xn,{size:u?"large":"default",disabled:!d(),onClick:function(){return j("0")},children:"0"})}),Object(D.jsx)(o.d,{size:"4",offset:"1",children:Object(D.jsx)(xn,{size:"default",fontSize:r.SM,onClick:O,children:"Delete"})}),Object(D.jsx)(o.d,{size:"4",offset:"2",children:Object(D.jsx)(xn,{size:"default",fontSize:r.SM,onClick:n,children:"Enter"})})]})},yn=n(456),Sn=Object(m.a)((function(e){return Object(D.jsx)(yn.a,Object(s.a)({render:function(e){var t=e.message;return Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.SM,color:"danger",children:t})}},e))}))(Jt||(Jt=Object(h.a)(["\n  ","\n  ","\n"])),(function(e){var t=e.fontSize;return Z.serializeFontSize(t)}),(function(e){var t=e.fontWeight;return Z.serializeFontWeight(t)})),Cn=Object(m.a)(o.j)($t||($t=Object(h.a)(["\n  &::part(input) {\n  }\n\n  --color: var(--ion-color-light);\n  --placeholder-color: var(--ion-color-light);\n  --background: var(--app-color-charade);\n  --padding-start: 1.375rem;\n  --padding-end: 1.375rem;\n  --padding-top: 1.1875rem;\n  --padding-bottom: 1.1875rem;\n\n  border: 1px solid var(--ion-color-light);\n\n  ","\n\n  &.form-input- {\n    &prefix-username {\n      &:before {\n        content: '@';\n        position: absolute;\n        left: 0.65rem;\n      }\n    }\n\n    &transparent {\n      --padding-start: 0.5rem;\n      --padding-end: 0.5rem;\n\n      --placeholder-color: transparent;\n      --background: transparent;\n\n      border: none;\n\n      &.has-focus {\n        border-bottom: 1px solid var(--ion-color-light);\n      }\n    }\n  }\n\n  ","\n"])),(function(e){var t=e.fontSize;return Z.serializeFontSize(t)}),(function(){return Array.from({length:12},(function(e,t){return"\n      &.form-input-prefix-number-".concat(t+1," {\n      width: ").concat(t+1>=10?"calc(100% - 2.5ch)":"calc(100% - 1.5ch)",";\n      margin-left: ").concat(t+1>=10?"2ch":"1ch",";\n      \n      &:before {\n        content: '").concat(t+1,"';\n        position: absolute;\n        left: -").concat(t+1>=10?"2ch":"1ch",";\n      }\n    }\n    ")})).join(" ")}));!function(e){e.SET_BASE_URL="@App/SET_BASE_URL",e.SET_ENCODED_USER_PRIVATE_KEY="@App/SET_ENCODED_USER_PRIVATE_KEY",e.SET_USERNAME="@App/SET_USERNAME"}(Zt||(Zt={}));var En,Nn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Zt.SET_ENCODED_USER_PRIVATE_KEY,payload:{userPrivateKey:e,saveToStorage:t}}},Tn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Zt.SET_USERNAME,payload:{username:e,saveToStorage:t}}};!function(e){e.NAMESPACE_REGISTER="@Namespace/NAMESPACE_REGISTER"}(En||(En={}));var Ln,_n,wn=n(135),An=function(){function e(){Object(A.a)(this,e)}return Object(R.a)(e,null,[{key:"isValidPassphrase",value:function(e){return wn.validateMnemonic(e)}},{key:"generatePassphrase",value:function(){return wn.generateMnemonic(void 0,void 0,wn.wordlists.english)}},{key:"getWalletNextNonce",value:function(e){return e?_.Utils.BigNumber.make(e.nonce).plus(1).toFixed():_.Utils.BigNumber.ONE.toFixed()}}]),e}(),Rn={},kn=Object(b.createContext)({}),In=function(e){var t=e.children,n=Object(b.useState)(Object(s.a)({},Rn)),r=Object(v.a)(n,2),a=r[0],c=r[1],o=Object(i.c)(),l=Object(b.useContext)(Y).setPin,u=Object(b.useCallback)((function(){c(Object(s.a)({},Rn))}),[c]),d=Object(b.useCallback)((function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{username:e})}))}),[c]),j=Object(b.useCallback)((function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{passphrase:e})}))}),[c]),O=Object(b.useCallback)((function(e){var t=a.passphrase||An.generatePassphrase(),n=JSON.stringify({passphrase:t}),r=M.encode(n,M.hash(e));o(Nn(r)),o(Tn(a.username,!0)),l(e),a.username&&o(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(Je.a)();return{type:En.NAMESPACE_REGISTER,payload:{txUuid:n,name:e,passphrase:t}}}(a.username,t)),u()}),[a,l,o,u]),p={state:a,setUsername:d,setPin:O,setPassphrase:j,reset:u};return Object(D.jsx)(kn.Provider,{value:p,children:t})},zn=Object(m.a)(o.e)(Ln||(Ln=Object(h.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: flex-end;\n    height: 100vh;\n    padding-bottom: 2rem;\n  }\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n\n  .form-input-pin {\n    width: 80%;\n    --padding-start: 2.375rem;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    letter-spacing: 1rem;\n  }\n"])));!function(e){e[e.Passcode=0]="Passcode",e[e.ConfirmPasscode=1]="ConfirmPasscode"}(_n||(_n={}));var Mn,Pn,Dn,Un=function(e){var t=e.withConfirm,n=void 0!==t&&t,a=Object(j.f)(),c=Object(b.useContext)(Y),i=c.session,s=c.setPin,l=Object(b.useContext)(kn).setPin,u=i.state,d=Object(b.useState)(_n.Passcode),O=Object(v.a)(d,2),p=O[0],f=O[1],h=Object(fn.c)({defaultValues:{passcode:"",confirmPasscode:""},mode:"onSubmit"}),g=h.control,m=h.handleSubmit,x=h.errors,y=h.watch,S=h.register,E=h.clearErrors,N=y(),T=N.passcode,L=N.confirmPasscode;Object(b.useEffect)((function(){i&&!i.error&&i.state===C.LoggedIn&&a.replace("/home")}),[i,a]);var _=Object(b.useCallback)((function(e){var t=e.passcode;n&&p===_n.Passcode?(S("confirmPasscode",{required:"Passcode is required!",pattern:{value:/^[0-9]{4}$/,message:"Passcode should be 4-digit number"},validate:function(e){return e===t||"Passcodes do not match"}}),f(_n.ConfirmPasscode),E(["passcode","confirmPasscode"])):n?l(t):s(t)}),[l,S,n,E,p,s]),w=Object(b.useCallback)((function(){if(!n)return"Safety First!";switch(p){case _n.ConfirmPasscode:return"Confirm your passcode";case _n.Passcode:default:return"Create your passcode"}}),[p,n]),A=Object(b.useCallback)((function(){if(!n)return Object(D.jsxs)(D.Fragment,{children:["Insert your ",Object(D.jsx)("b",{children:"passcode, that you chose"})," when creating your account! Don\u2019t forget to store it somewhere safe, since we are unable to restore any lost passcodes! Learn more"]});switch(p){case _n.ConfirmPasscode:return Object(D.jsxs)(D.Fragment,{children:["Please ",Object(D.jsx)("b",{children:"confirm"})," your ",Object(D.jsx)("b",{children:"passcode"}),". Don\u2019t forget to store it somewhere safe, since we are unable to restore any lost passcodes!"]});case _n.Passcode:default:return Object(D.jsxs)(D.Fragment,{children:["Create your ",Object(D.jsx)("b",{children:"passcode"}),". Make sure that you\xa0",Object(D.jsx)("b",{children:"Store it somewhere safely"}),", since we are unable to restore any lost passcodes!"]})}}),[p,n]);return Object(D.jsx)(o.q,{children:Object(D.jsx)(zn,{fullscreen:!0,children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(o.t,{children:[Object(D.jsxs)(o.d,{size:"12",children:[Object(D.jsx)(ve,{className:"ion-margin-bottom",fontSize:r.XL,color:"light",fontWeight:G.BOLD,children:w()}),Object(D.jsx)(ve,{className:"ion-margin-top",fontSize:r.SM,color:"light",children:A()})]}),Object(D.jsx)(o.d,{size:"8",offset:"2",children:Object(D.jsxs)("form",{onSubmit:m(_),children:[Object(D.jsx)(fn.a,{render:function(e){var t=e.onChange;return Object(D.jsxs)(o.t,{hidden:p!==_n.Passcode,children:[Object(D.jsx)(o.d,{size:"12",children:Object(D.jsx)(Cn,{type:"password",value:T,className:"form-input-pin",fontSize:r.L,readonly:!0})}),Object(D.jsx)(vn,{onChange:t,onEnter:m(_)})]})},control:g,name:"passcode",rules:{required:"Passcode is required!",pattern:{value:/^[0-9]{4}$/,message:"Passcode should be 4-digit number"}}}),Object(D.jsx)(fn.a,{render:function(e){var t=e.onChange;return Object(D.jsxs)(o.t,{hidden:p!==_n.ConfirmPasscode,children:[Object(D.jsx)(o.d,{size:"12",children:Object(D.jsx)(Cn,{type:"password",value:L,className:"form-input-pin",fontSize:r.L,readonly:!0})}),Object(D.jsx)(vn,{onChange:t,onEnter:m(_)})]})},control:g,name:"confirmPasscode"}),Object(D.jsxs)("div",{className:"ion-text-center",children:[Object(D.jsx)(Sn,{errors:x,name:"passcode"}),Object(D.jsx)(Sn,{errors:x,name:"confirmPasscode"}),u===C.Error&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("br",{}),Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.SM,color:"danger",children:"Invalid PIN!"})]})]})]})})]})})})})},Fn=n(22),Wn=0,Bn=function(){function e(){Object(A.a)(this,e)}return Object(R.a)(e,null,[{key:"uniqueId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Wn+=1,e.toString()+Wn}},{key:"wait",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}}]),e}(),Kn=function(e){var t=e.onChange,n=Object(b.useState)(Array.from({length:12},(function(){return""}))),a=Object(v.a)(n,2),c=a[0],i=a[1],s=Object(b.useState)([]),l=Object(v.a)(s,2),j=l[0],O=l[1];Object(b.useEffect)((function(){O((function(e){return Array.from({length:12},(function(t,n){return e[n]||Object(b.createRef)()}))}))}),[]),Object(b.useEffect)((function(){t(c.map((function(e){return e.trim()})).join(" ").toLowerCase())}),[c,t]),Object(b.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bn.wait(250);case 4:return e.next=6,t.setFocus();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(j.length){var t=Object(v.a)(j,1)[0];t&&e(t.current)}}),[j]);var p=Object(b.useCallback)((function(e,t){i((function(n){return[].concat(Object(Fn.a)(n.slice(0,t)),[e],Object(Fn.a)(n.slice(t+1)))}))}),[i]),f=Object(b.useCallback)((function(e){var t=function(){navigator.clipboard.readText().then((function(e){var t=e.split(" ");i([].concat(Object(Fn.a)(t),Object(Fn.a)(Array.from({length:12},(function(){return""})))).slice(0,12))})).catch((function(e){console.warn("Reading contents from clipboard failed: ",e)}))},n=String.fromCharCode(e.which).toLowerCase();e.ctrlKey&&"v"===n&&t(),e.metaKey&&"v"===n&&t()}),[i]);return Object(D.jsx)(D.Fragment,{children:c.map((function(e,t){return Object(D.jsx)(o.d,{size:"3",children:Object(D.jsx)(Cn,{className:"form-input-transparent form-input-prefix-number-".concat(t+1),"data-number":t+1,type:"text",fontSize:r.SM,value:e,onKeyDown:f,onIonChange:function(e){var n=e.detail.value;return p(n,t)},ref:j[t]})},t)}))})},qn=Object(m.a)(o.e)(Mn||(Mn=Object(h.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: center;\n    height: 100vh;\n  }\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n"]))),Xn=m.a.div(Pn||(Pn=Object(h.a)(["\n  border-radius: 0.25rem;\n  background-color: var(--app-color-gray);\n"]))),Gn=function(){var e=Object(j.f)(),t=Object(b.useContext)(kn).setPassphrase,n=Object(fn.c)({defaultValues:{passphrase:""},mode:"onSubmit"}),a=n.control,c=n.handleSubmit,i=n.errors,s=Object(b.useCallback)((function(n){var r=n.passphrase;t(r),e.push("/register/passcode")}),[t,e]);return Object(D.jsx)(o.q,{children:Object(D.jsx)(qn,{fullscreen:!0,children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(o.t,{children:[Object(D.jsxs)(o.d,{size:"12",children:[Object(D.jsx)(ve,{className:"ion-margin-bottom",fontSize:r.XL,color:"light",fontWeight:G.BOLD,children:"Sign in with your recovery phrase"}),Object(D.jsxs)(ve,{className:"ion-margin-top",fontSize:r.SM,color:"light",children:["Restore your account with the ",Object(D.jsx)("b",{children:"12 word phrase"}),", that you were given when you created your account. ",Object(D.jsx)("b",{children:"Make sure"})," that they are in the correct order!"]})]}),Object(D.jsx)(o.d,{size:"12",className:"ion-padding",children:Object(D.jsx)(Xn,{className:"ion-padding",children:Object(D.jsx)("form",{onSubmit:c(s),children:Object(D.jsx)(fn.a,{render:function(e){var t=e.onChange;return Object(D.jsx)(o.t,{children:Object(D.jsx)(Kn,{onChange:t})})},control:a,name:"passphrase",rules:{required:"Passphrase is required!",pattern:{value:/^(\w+\s){11}(\w+)$/,message:"Passphrase should be 12 words long. Fill out remaining fields!"},validate:function(e){return An.isValidPassphrase(e)||"Invalid passphrase!"}}})})})}),Object(D.jsx)(o.d,{size:"12",className:"ion-padding-horizontal",children:Object(D.jsx)(Sn,{errors:i,name:"passphrase"})}),Object(D.jsx)(o.d,{className:"ion-padding-horizontal",size:"12",children:Object(D.jsx)(Nt,{size:"large",expand:"block",className:"ion-text-uppercase ion-no-margin ion-margin-top",color:"tertiary",fontSize:r.SM,fontWeight:G.BOLD,onClick:c(s),children:"Restore wallet"})}),Object(D.jsx)(o.d,{className:"ion-padding-horizontal",size:"12",children:Object(D.jsx)(Nt,{size:"large",expand:"block",fill:"clear",className:"ion-text-capitalize ion-no-margin",color:"light",fontSize:r.SM,onClick:function(){return e.replace("/welcome")},children:"Back"})})]})})})})};!function(e){e.WALLETS_LOAD="@Wallets/WALLETS_LOAD",e.WALLETS_LOAD_SUCCESS="@Wallets/WALLETS_LOAD_SUCCESS",e.WALLETS_LOAD_ERROR="@Wallets/WALLETS_LOAD_ERROR"}(Dn||(Dn={}));var Hn,Vn,Yn,Jn,$n,Zn=function(e,t){return{type:Dn.WALLETS_LOAD_SUCCESS,payload:{pubKey:e,wallet:t}}},Qn=function(e,t){return{type:Dn.WALLETS_LOAD_ERROR,payload:{pubKey:e,error:t}}},er=function(e){return e.wallets.wallets},tr=function(){var e=Object(j.f)(),t=Object(i.c)(),n=Object(b.useContext)(Y).session,a=n.publicKey,c=n.username,s=Object(i.d)(er,i.b),l=Object(b.useMemo)((function(){return s.hasOwnProperty(a)?s[a]:{isLoading:!0,isError:!1,error:null,wallet:null}}),[s,a]),u=l.isLoading,d=l.wallet,O=l.isError,p=l.error,f=ue();Object(b.useEffect)((function(){var e;a&&f&&t((e=a,{type:Dn.WALLETS_LOAD,payload:{pubKey:e}}))}),[f,t,a]);var h=Object(b.useMemo)((function(){var e,t,n,r,a,c;return(null===d||void 0===d||null===(e=d.attributes)||void 0===e||null===(t=e.nft)||void 0===t||null===(n=t.base)||void 0===n?void 0:n.tokenIds)?Object.keys(null===d||void 0===d||null===(r=d.attributes)||void 0===r||null===(a=r.nft)||void 0===a||null===(c=a.base)||void 0===c?void 0:c.tokenIds).length:0}),[d]),g=Object(b.useMemo)((function(){var e,t;return(null===d||void 0===d||null===(e=d.attributes)||void 0===e||null===(t=e.nameservice)||void 0===t?void 0:t.name)||void 0}),[d]);return Object(D.jsxs)(o.q,{children:[Object(D.jsx)(Re,{title:"My profile"}),Object(D.jsx)(o.e,{fullscreen:!0,id:"main-content",children:Object(D.jsxs)(o.g,{children:[Object(D.jsxs)(o.t,{children:[!u&&O&&Object(D.jsxs)(o.d,{size:"12",class:"ion-text-center ion-padding-top",children:[Object(D.jsx)(ve,{color:"danger",fontSize:r.XXL,children:"Something went wrong!"}),Object(D.jsx)(ve,{className:"ion-padding-top",fontSize:r.SM,color:"light",children:null===p||void 0===p?void 0:p.toString()})]}),u&&Object(D.jsx)(o.d,{size:"12",class:"ion-text-center ion-padding-top",children:Object(D.jsx)(o.u,{color:"primary"})}),!u&&!O&&Object(D.jsx)(o.d,{size:"12",className:"ion-text-center ion-padding",children:Object(D.jsxs)(ve,{className:"ion-text-capitalize",fontSize:r.L,fontWeight:G.BOLD,children:["Hi ",g||c||"----","!"]})})]}),!u&&!O&&Object(D.jsxs)(ye,{children:[Object(D.jsx)(Ne,{isGrayBg:!0,size:"4",title:"COLLECTED CARDS",subtitle:h.toString()}),Object(D.jsx)(Ne,{isGrayBg:!0,size:"4",title:"SINGED CARDS",subtitle:"0"}),Object(D.jsx)(Ne,{isBlueBg:!0,size:"4",title:"ADD NEW CARD",subtitle:"+",onClick:function(){return e.replace("/home/scan-qr")}})]})]})})]})},nr=n(457),rr=n.n(nr),ar=Object(m.a)(o.e)(Hn||(Hn=Object(h.a)(["\n  position: relative;\n"]))),cr=Object(m.a)(rr.a)(Vn||(Vn=Object(h.a)(["\n  position: absolute;\n  left: calc(50% - ","px);\n  top: calc(50% - ","px);\n"])),128,128),ir=function(){var e=Object(j.g)().id;return Object(D.jsx)(o.q,{children:Object(D.jsx)(ar,{children:e&&Object(D.jsx)(cr,{renderAs:"svg",size:256,value:e})})})},or=n(136),sr=Object(m.a)(o.e)(Yn||(Yn=Object(h.a)(["\n  opacity: 0;\n"]))),lr=function(){var e=Object(j.f)();return Object(b.useEffect)((function(){var t;return function(){var n=Object(d.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,or.a.prepare();case 3:if(!(r=n.sent).authorized){n.next=11;break}return n.next=7,or.a.show();case 7:window.document.querySelector("ion-app").classList.add("camera-view"),t=or.a.scan().subscribe((function(t){e.replace("/home/collect-card/".concat(t))})),n.next=12;break;case 11:r.denied;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(){return n.apply(this,arguments)}}()(),function(){t&&t.unsubscribe(),window.document.querySelector("ion-app").classList.remove("camera-view"),or.a.hide(),or.a.destroy()}}),[e]),Object(D.jsxs)(o.q,{children:[Object(D.jsx)(Re,{title:"Collect Cards"}),Object(D.jsx)(sr,{fullscreen:!0,id:"main-content"})]})},ur=Object(m.a)(o.e)(Jn||(Jn=Object(h.a)(["\n  --background: var(--app-color-charade);\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        height: 40vh;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n"]))),dr=function(){var e=Object(j.f)(),t=Object(b.useContext)(kn).setUsername,n=Object(fn.c)({defaultValues:{username:""},mode:"onChange"}),a=n.formState,c=n.control,i=n.handleSubmit,s=n.errors,l=Object(b.useCallback)((function(n){var r=n.username;a.isValid&&(t(r),e.push("/register/passcode"))}),[a.isValid,t,e]);return Object(D.jsx)(o.q,{children:Object(D.jsx)(ur,{fullscreen:!0,children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(o.t,{children:[Object(D.jsxs)(o.d,{size:"12",children:[Object(D.jsx)(ve,{className:"ion-margin-bottom",fontSize:r.XL,color:"light",fontWeight:G.BOLD,children:"Pick your username"}),Object(D.jsx)(ve,{className:"ion-margin-top",fontSize:r.SM,color:"light",children:"Collecting digital hero cards is easy! Make it even easier for other collectors to find you, and star collecting your favourite cards!"})]}),Object(D.jsx)(o.d,{size:"12",className:"ion-padding",children:Object(D.jsxs)("form",{onSubmit:i(l),children:[Object(D.jsx)(fn.a,{render:function(e){var t=e.onChange;return Object(D.jsx)(Cn,{type:"text",className:"form-input-prefix-username ion-margin-bottom",fontSize:r.SM,placeholder:"Pick username...",onIonChange:function(e){var n=e.detail.value;return t(n)}})},control:c,name:"username",rules:{required:"Username is required!"}}),Object(D.jsx)(Sn,{errors:s,name:"username"}),Object(D.jsx)(Nt,{type:"submit",size:"large",expand:"block",className:"ion-text-uppercase ion-no-margin ion-margin-top",color:"tertiary",fontSize:r.SM,fontWeight:G.BOLD,disabled:!a.isValid,children:"Register username"})]})})]})})})})},br=Object(m.a)(o.e)($n||($n=Object(h.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: flex-end;\n    height: 100vh;\n    padding-bottom: 2rem;\n  }\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding-bottom: 1rem;\n      }\n\n      &:nth-child(2) {\n        overflow: hidden;\n        margin-bottom: 1rem;\n        max-height: 25vh;\n      }\n\n      &:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 100vw;\n        padding-bottom: 0.5rem;\n      }\n    }\n  }\n\n  @media screen and (min-height: 600px) {\n    ion-row {\n      ion-col {\n        &:nth-child(1) {\n          padding-bottom: 2rem;\n        }\n\n        &:nth-child(2) {\n          margin-bottom: 2rem;\n        }\n\n        &:nth-child(3) {\n          padding-bottom: 1rem;\n        }\n      }\n    }\n  }\n"]))),jr=function(){return Object(D.jsx)(o.q,{children:Object(D.jsx)(br,{fullscreen:!0,children:Object(D.jsx)(o.g,{className:"ion-no-padding",children:Object(D.jsxs)(o.t,{children:[Object(D.jsxs)(o.d,{size:"12",children:[Object(D.jsx)(ve,{className:"ion-text-uppercase",fontSize:r.XXL,color:"light",fontWeight:G.BOLD,children:"Nascar"}),Object(D.jsx)(ve,{className:"ion-text-capitalize",fontSize:r.XL,color:"light",fontWeight:G.BOLD,children:"Digital Hero Cards"})]}),Object(D.jsx)(o.d,{className:"ion-no-padding",size:"12",children:Object(D.jsx)(ke,Object(s.a)({},Ue))}),Object(D.jsxs)(o.d,{size:"12",children:[Object(D.jsx)(Nt,{size:"large",expand:"block",className:"ion-text-uppercase ion-margin",fontSize:r.SM,fontWeight:G.BOLD,routerLink:"/login/passphrase",children:"Existing user"}),Object(D.jsx)(Nt,{size:"large",expand:"block",className:"ion-text-uppercase ion-margin",color:"tertiary",fontSize:r.SM,fontWeight:G.BOLD,routerLink:"/register/username",children:"Create account"})]}),Object(D.jsx)(o.d,{size:"12",className:"ion-text-center",children:Object(D.jsx)(ve,{fontSize:r.XXS,color:"light",children:"\xa9 Protokol, 2021"})})]})})})})},Or=(n(967),n(968),n(969),n(970),n(971),n(972),n(973),n(974),n(975),n(976),n(977),n(978),n(979),O.a.SplashScreen),pr=function(){var e=Object(i.c)(),t=ue();return Object(b.useEffect)((function(){var n,r=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.lock(p.a.ORIENTATIONS.PORTRAIT_PRIMARY);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&(Object(o.H)("capacitor")&&(r(),Or.hide()),e((n="https://explorer.protokol.sh",{type:Zt.SET_BASE_URL,payload:{baseUrl:n}})))}),[t,e]),Object(D.jsx)(o.a,{children:Object(D.jsx)($,{children:Object(D.jsx)(In,{children:Object(D.jsxs)(f.a,{children:[Object(D.jsx)(oe,{}),Object(D.jsxs)(j.d,{children:[Object(D.jsx)(j.b,{path:"/qr/:id",component:ir,exact:!0}),Object(D.jsx)(j.b,{path:"/welcome",component:jr,exact:!0}),Object(D.jsx)(j.b,{path:"/login/passphrase",component:Gn,exact:!0}),Object(D.jsx)(j.b,{path:"/register/username",component:dr,exact:!0}),Object(D.jsx)(j.b,{path:"/register/passcode",exact:!0,render:function(e){return Object(D.jsx)(Un,Object(s.a)({withConfirm:!0},e))}}),Object(D.jsx)(j.b,{path:"/passcode",exact:!0,render:function(e){return Object(D.jsx)(Un,Object(s.a)({withConfirm:!1},e))}}),Object(D.jsx)(j.a,{path:"/",exact:!0,to:"/home"}),Object(D.jsxs)(o.s,{children:[Object(D.jsx)(le,{path:"/home",component:pn,exact:!0}),Object(D.jsx)(le,{path:"/home/profile",component:tr,exact:!0}),Object(D.jsx)(le,{requiresCordova:!0,path:"/home/scan-qr",component:lr,exact:!0}),Object(D.jsx)(le,{path:"/home/card/:assetId",component:Ye,exact:!0}),Object(D.jsx)(le,{path:"/home/collect-card/:collectionId",component:it,exact:!0})]})]})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fr,hr=n(101),gr=n(1127),mr=n(1125),xr=n(458),vr=n(459),yr=n(1130),Sr=n(83),Cr=n(1115),Er=n(1132),Nr=n(1116),Tr=n(1128),Lr=n(1117),_r=[function(e,t,n){var r=n.storage;return e.pipe(Object(xr.a)(Zt.SET_ENCODED_USER_PRIVATE_KEY),Object(yr.a)(t.pipe(Object(Sr.a)(N),Object(Cr.a)())),Object(Er.a)((function(e){var t=Object(v.a)(e,2),n=t[0].payload,a=t[1];n.saveToStorage&&r.set(x.PRIVATE_KEY,a)})),Object(Nr.a)())},function(e,t,n){var r=n.storage;return e.pipe(Object(Tr.a)(),Object(Lr.a)((function(){var e=r.get(x.PRIVATE_KEY);return e?Object(vr.a)(Nn(e,!1)):Object(vr.a)(Nn(null,!1))})))},function(e,t,n){var r=n.storage;return e.pipe(Object(xr.a)(Zt.SET_USERNAME),Object(yr.a)(t.pipe(Object(Sr.a)(T),Object(Cr.a)())),Object(Er.a)((function(e){var t=Object(v.a)(e,2),n=t[0].payload,a=t[1];n.saveToStorage&&r.set(x.USERNAME,a)})),Object(Nr.a)())},function(e,t,n){var r=n.storage;return e.pipe(Object(Tr.a)(),Object(Lr.a)((function(){var e=r.get(x.USERNAME);return e?Object(vr.a)(Tn(e,!1)):Object(vr.a)(Tn(null,!1))})))}],wr=n(1065),Ar=n(1118),Rr=n(1119);!function(e){e.TRANSACTION_WAIT_FOR_CONFIRM="@Transaction/TRANSACTION_WAIT_FOR_CONFIRM",e.TRANSACTION_CONFIRM_SUCCESS="@Transaction/TRANSACTION_CONFIRM_SUCCESS",e.TRANSACTION_CONFIRM_ERROR="@Transaction/TRANSACTION_CONFIRM_ERROR",e.TRANSACTION_SUBMIT="@Transaction/TRANSACTION_SUBMIT"}(fr||(fr={}));var kr,Ir=function(e,t){return{type:fr.TRANSACTION_WAIT_FOR_CONFIRM,payload:{txUuid:e,txId:t}}},zr=[function(e,t){return e.ofType(Ge.CLAIM_ASSET).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1],a=n.payload,c=a.collectionId,i=a.recipientId,o=a.txUuid;return Object(Ar.a)("".concat(r,"/api/nft/assets/claim"),{headers:{"Content-Type":"application/json"},selector:function(e){return e.json()},method:"POST",body:JSON.stringify({collectionId:c,recipientId:i})}).pipe(Object(Lr.a)((function(e){var t,n=e.data,r=e.errors,a=Object(v.a)(n.accept,1)[0];if(a)return Object(wr.a)(Object(vr.a)((t=a,{type:Ge.CLAIM_ASSET_SUCCESS,payload:{txId:t}})),Object(vr.a)(Ir(o,a)));var c=r[Object(v.a)(n.invalid,1)[0]].message;return Object(vr.a)(tt(c))})),Object(Rr.a)((function(e){return Object(vr.a)(tt(e))})))})))}],Mr=n(1120),Pr=[function(e,t,n){var r=n.connection;return e.ofType(gt.COLLECTIONS_LOAD).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],c=n.payload,i=c.pubKey,o=c.query;return Object(Mr.a)((function(){return r(a).NFTBaseApi("assets").walletAssets(i,o)})).pipe(Object(Sr.a)((function(e){var t=e.body,n=t.data,r=t.errors;if(r)return Pt(r);var a=o||{page:1,limit:100};return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:gt.COLLECTIONS_LOAD_SUCCESS,payload:{query:e,assets:t,isLastPage:n}}}(a,n,n.length<a.limit)})),Object(Rr.a)((function(e){return Object(vr.a)(Pt(e))})))})))}],Dr=n(461),Ur=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new Dr.ProtokolConnection("".concat(e,"/api")).withOptions({timeout:t})},Fr=[function(e,t,n){var r=n.storage;return e.ofType(En.NAMESPACE_REGISTER).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],c=n.payload,i=c.name,o=c.txUuid,s=c.passphrase;return function(e,t){return Object(Mr.a)((function(){return Ur(e).api("wallets").get(t)})).pipe(Object(Sr.a)((function(e){var t;return null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.data})),Object(Rr.a)((function(e){return console.warn(e),Object(vr.a)(void 0)})))}(a,_.Identities.PublicKey.fromPassphrase(s)).pipe(Object(Er.a)((function(){return r.set(x.USERNAME,i)})),Object(Sr.a)((function(e){var t=(new w.Builders.NameserviceBuilder).Nameservice({name:i}).nonce(An.getWalletNextNonce(e)).sign(s);return function(e,t){return{type:fr.TRANSACTION_SUBMIT,payload:{txUuid:e,transactions:t}}}(o,{transactions:[t.getStruct()]})})))})))}],Wr=n(1121),Br=n(267);!function(e){e.LOAD_NETWORK_CONFIGURATION="@Network/LOAD_NETWORK_CONFIGURATION",e.NETWORK_CONFIGURATION_SUCCESS="@Network/NETWORK_CONFIGURATION_SUCCESS",e.NETWORK_CONFIGURATION_ERROR="@Network/NETWORK_CONFIGURATION_ERROR"}(kr||(kr={}));var Kr=function(e){return{type:kr.LOAD_NETWORK_CONFIGURATION,payload:{baseUrl:e}}},qr=[function(e){return e.ofType(kr.NETWORK_CONFIGURATION_SUCCESS).pipe(Object(Er.a)((function(e){var t=e.payload,n=t.nodeCryptoConfiguration,r=t.height,a=n.network,c=n.exceptions,i=n.milestones;_.Managers.configManager.setConfig({network:a,milestones:i,genesisBlock:_.Managers.configManager.getPreset("devnet").genesisBlock,exceptions:c}),_.Managers.configManager.setHeight(r),_.Transactions.TransactionRegistry.registerTransactionType(w.Transactions.NameserviceTransaction)})),Object(Nr.a)())},function(e,t,n){var r=n.connection;return e.ofType(kr.LOAD_NETWORK_CONFIGURATION).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],c=n.payload;return Object(Wr.a)([Object(Mr.a)((function(){return r(c.baseUrl||a).api("node").crypto()})),Object(Mr.a)((function(){return r(c.baseUrl||a).api("blocks").last()}))]).pipe(Object(Sr.a)((function(e){var t,n,r,a,c,i=Object(v.a)(e,2),o=i[0],s=i[1];return a=null===o||void 0===o||null===(t=o.body)||void 0===t?void 0:t.data,c=null===s||void 0===s||null===(n=s.body)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.height,{type:kr.NETWORK_CONFIGURATION_SUCCESS,payload:{nodeCryptoConfiguration:a,height:c}}})),Object(Rr.a)((function(e){return Object(vr.a)((t=e,{type:kr.NETWORK_CONFIGURATION_ERROR,payload:{error:t}}));var t})))})))},function(e,t){return t.pipe(Object(Sr.a)(E),Object(Cr.a)(),Object(Br.a)((function(e){return!!e})),Object(Sr.a)(Kr))}],Xr=n(462),Gr=n.n(Xr),Hr=n(1131),Vr=n(1122),Yr=n(463),Jr=n(128),$r=n(1123),Zr=n(1133),Qr=n(1124),ea=[function(e,t,n){var r=n.connection;return e.ofType(fr.TRANSACTION_WAIT_FOR_CONFIRM).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],c=new Hr.a,i=n.payload,o=i.txId,s=i.txUuid;return Object(Vr.a)(0,4e3).pipe(Object($r.a)(c),Object(Zr.a)(Gr()(Date.now(),80),Object(Yr.a)("Transaction/s have not been confirmed within 10 blocks time!")),Object(Qr.a)((function(){return Object(Mr.a)((function(){return r(a).api("transactions").get(o)})).pipe(Object(Rr.a)((function(){return Object(vr.a)({body:{data:void 0}})})),Object(Lr.a)((function(e){return e.body.data?(c.next(),c.complete(),Object(vr.a)(function(e){return{type:fr.TRANSACTION_CONFIRM_SUCCESS,payload:{txUuid:e}}}(s))):Jr.a.pipe(Object(Nr.a)())})))})),Object(Rr.a)((function(e){return Object(vr.a)(function(e,t){return{type:fr.TRANSACTION_CONFIRM_ERROR,payload:{txUuid:e,error:t}}}(s,e))})))})))},function(e,t,n){var r=n.connection;return e.ofType(fr.TRANSACTION_SUBMIT).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],c=n.payload,i=c.transactions,o=c.txUuid;return Object(Mr.a)((function(){return r(a).api("transactions").create(i)})).pipe(Object(Lr.a)((function(e){var t=e.body,n=t.data,r=t.errors,a=Object(v.a)(n.accept,1)[0];if(a)return Object(vr.a)(Ir(o,a));var c=r[Object(v.a)(n.invalid,1)[0]].message;return Object(vr.a)(tt(c))})),Object(Rr.a)((function(e){return Object(vr.a)(tt(e))})))})))}],ta=[function(e,t,n){var r=n.connection;return e.ofType(Dn.WALLETS_LOAD).pipe(Object(yr.a)(t.pipe(Object(Sr.a)(E))),Object(Lr.a)((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],c=n.payload.pubKey;return Object(Mr.a)((function(){return r(a).api("wallets").get(c)})).pipe(Object(Sr.a)((function(e){var t=e.body,n=t.data,r=t.errors;return r?Qn(c,r):Zn(c,n)})),Object(Rr.a)((function(e){return"404"===e.message?Object(vr.a)(Zn(c,null)):Object(vr.a)(Qn(c,e))})))})))}],na=mr.a.apply(void 0,Object(Fn.a)(_r).concat(Object(Fn.a)(qr),Object(Fn.a)(zr),Object(Fn.a)(ea),Object(Fn.a)(Fr),Object(Fn.a)(Pr),Object(Fn.a)(ta))),ra={baseUrl:void 0,userPrivateKey:void 0,username:null},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case Zt.SET_BASE_URL:var r=t.payload.baseUrl;return Object(s.a)(Object(s.a)({},e),{},{baseUrl:r});case Zt.SET_USERNAME:var a=t.payload.username;return Object(s.a)(Object(s.a)({},e),{},{username:a});case Zt.SET_ENCODED_USER_PRIVATE_KEY:var c=t.payload.userPrivateKey;return Object(s.a)(Object(s.a)({},e),{},{userPrivateKey:c});default:return e}},ca={isLoading:!1,isError:!1},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case Ge.CLAIM_ASSET:return Object(s.a)(Object(s.a)({},ca),{},{isLoading:!0});case Ge.CLAIM_ASSET_SUCCESS:var r=t.payload.txId;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!1,txId:r});case Ge.CLAIM_ASSET_ERROR:var a=t.payload.error;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!0,error:a});default:return e}},oa={isLastPage:!1,isLoading:!1,isError:!1,assets:[]},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case gt.COLLECTIONS_LOAD:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case gt.COLLECTIONS_LOAD_SUCCESS:var r=t,a=r.payload,c=a.assets,i=a.query,o=a.isLastPage,l=i.page;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,query:i,assets:[].concat(Object(Fn.a)(e.assets.slice(0,l-1)),[c],Object(Fn.a)(e.assets.slice(l))),isLastPage:o,isError:!1,error:void 0});case gt.COLLECTIONS_LOAD_ERROR:var u=t.payload.error;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!0,error:u});default:return e}},la={isLoading:!1,isError:!1},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case kr.LOAD_NETWORK_CONFIGURATION:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case kr.NETWORK_CONFIGURATION_SUCCESS:var r=t.payload.nodeCryptoConfiguration;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,nodeCryptoConfiguration:r});case kr.NETWORK_CONFIGURATION_ERROR:var a=t.payload.error;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!1,error:a});default:return e}},da=n(26),ba={transactions:{}},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case fr.TRANSACTION_WAIT_FOR_CONFIRM:var r=t.payload,a=r.txId,c=r.txUuid;return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},Object(da.a)({},c,{txId:a,isLoading:!0,isConfirmed:!1,isError:!1}))});case fr.TRANSACTION_CONFIRM_SUCCESS:var i=t.payload.txUuid;return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},Object(da.a)({},i,Object(s.a)(Object(s.a)({},e.transactions[i]),{},{isError:!1,isLoading:!1,isConfirmed:!0})))});case Ge.CLAIM_ASSET_ERROR:var o=t.payload,l=o.txUuid,u=o.error;return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},Object(da.a)({},l,Object(s.a)(Object(s.a)({},e.transactions[l]),{},{isError:!0,error:u,isLoading:!1,isConfirmed:!1})))});default:return e}},Oa={wallets:{}},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case Dn.WALLETS_LOAD:var r=t.payload.pubKey;return Object(s.a)(Object(s.a)({},e),{},{wallets:Object(s.a)(Object(s.a)({},e.wallets),{},Object(da.a)({},r,{isLoading:!0,isError:!1,error:null,wallet:null}))});case Dn.WALLETS_LOAD_SUCCESS:var a=t.payload,c=a.pubKey,i=a.wallet;return Object(s.a)(Object(s.a)({},e),{},{wallets:Object(s.a)(Object(s.a)({},e.wallets),{},Object(da.a)({},c,{isLoading:!1,isError:!1,error:null,wallet:i}))});case Dn.WALLETS_LOAD_ERROR:var o=t.payload,l=o.pubKey,u=o.error;return Object(s.a)(Object(s.a)({},e),{},{wallets:Object(s.a)(Object(s.a)({},e.wallets),{},Object(da.a)({},l,{isLoading:!1,wallet:null,isError:!0,error:u}))});default:return e}},fa=Object(hr.c)({app:aa,network:ua,assetClaim:ia,transaction:ja,collections:sa,wallets:pa}),ha=Object(gr.a)({dependencies:{connection:Ur,storage:P()}});Object(o.I)({mode:"md"});var ga=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||hr.d,t=Object(hr.e)(fa,e(Object(hr.a)(ha)));return ha.run(na),t}();c.a.render(Object(D.jsx)(i.a,{store:ga,children:Object(D.jsx)(pr,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},477:function(e,t,n){var r={"./ion-action-sheet.entry.js":[1067,5],"./ion-alert.entry.js":[1068,6],"./ion-app_8.entry.js":[1069,7],"./ion-avatar_3.entry.js":[1070,17],"./ion-back-button.entry.js":[1071,18],"./ion-backdrop.entry.js":[1072,43],"./ion-button_2.entry.js":[1073,19],"./ion-card_5.entry.js":[1074,20],"./ion-checkbox.entry.js":[1075,21],"./ion-chip.entry.js":[1076,22],"./ion-col_3.entry.js":[1077,44],"./ion-datetime_3.entry.js":[1078,10],"./ion-fab_3.entry.js":[1079,23],"./ion-img.entry.js":[1080,45],"./ion-infinite-scroll_2.entry.js":[1081,46],"./ion-input.entry.js":[1082,24],"./ion-item-option_3.entry.js":[1083,25],"./ion-item_8.entry.js":[1084,26],"./ion-loading.entry.js":[1085,27],"./ion-menu_3.entry.js":[1086,28],"./ion-modal.entry.js":[1087,8],"./ion-nav_2.entry.js":[1088,14],"./ion-popover.entry.js":[1089,9],"./ion-progress-bar.entry.js":[1090,29],"./ion-radio_2.entry.js":[1091,30],"./ion-range.entry.js":[1092,31],"./ion-refresher_2.entry.js":[1093,11],"./ion-reorder_2.entry.js":[1094,16],"./ion-ripple-effect.entry.js":[1095,47],"./ion-route_4.entry.js":[1096,32],"./ion-searchbar.entry.js":[1097,33],"./ion-segment_2.entry.js":[1098,34],"./ion-select_3.entry.js":[1099,35],"./ion-slide_2.entry.js":[1100,48],"./ion-spinner.entry.js":[1101,13],"./ion-split-pane.entry.js":[1102,49],"./ion-tab-bar_2.entry.js":[1103,36],"./ion-tab_2.entry.js":[1104,15],"./ion-text.entry.js":[1105,37],"./ion-textarea.entry.js":[1106,38],"./ion-toast.entry.js":[1107,39],"./ion-toggle.entry.js":[1108,12],"./ion-virtual-scroll.entry.js":[1109,50]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=477,e.exports=a},479:function(e,t,n){var r={"./ion-icon.entry.js":[1110,57]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=479,e.exports=a},629:function(e,t){},631:function(e,t){},639:function(e,t){},641:function(e,t){},676:function(e,t){},678:function(e,t){},750:function(e,t){},752:function(e,t){},850:function(e,t){},851:function(e,t){},977:function(e,t,n){},978:function(e,t,n){},979:function(e,t,n){}},[[1063,3,4]]]);
//# sourceMappingURL=main.fc83cff5.chunk.js.map