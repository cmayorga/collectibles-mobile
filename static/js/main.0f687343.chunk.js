(this["webpackJsonpcollectibles-mobile"]=this["webpackJsonpcollectibles-mobile"]||[]).push([[1],{189:function(e,n,t){e.exports=t(357)},199:function(e,n,t){var a={"./ion-action-sheet.entry.js":[359,5],"./ion-alert.entry.js":[360,6],"./ion-app_8.entry.js":[361,7],"./ion-avatar_3.entry.js":[362,17],"./ion-back-button.entry.js":[363,18],"./ion-backdrop.entry.js":[364,43],"./ion-button_2.entry.js":[365,19],"./ion-card_5.entry.js":[366,20],"./ion-checkbox.entry.js":[367,21],"./ion-chip.entry.js":[368,22],"./ion-col_3.entry.js":[369,44],"./ion-datetime_3.entry.js":[370,10],"./ion-fab_3.entry.js":[371,23],"./ion-img.entry.js":[372,45],"./ion-infinite-scroll_2.entry.js":[373,46],"./ion-input.entry.js":[374,24],"./ion-item-option_3.entry.js":[375,25],"./ion-item_8.entry.js":[376,26],"./ion-loading.entry.js":[377,27],"./ion-menu_3.entry.js":[378,28],"./ion-modal.entry.js":[379,8],"./ion-nav_2.entry.js":[380,14],"./ion-popover.entry.js":[381,9],"./ion-progress-bar.entry.js":[382,29],"./ion-radio_2.entry.js":[383,30],"./ion-range.entry.js":[384,31],"./ion-refresher_2.entry.js":[385,11],"./ion-reorder_2.entry.js":[386,16],"./ion-ripple-effect.entry.js":[387,47],"./ion-route_4.entry.js":[388,32],"./ion-searchbar.entry.js":[389,33],"./ion-segment_2.entry.js":[390,34],"./ion-select_3.entry.js":[391,35],"./ion-slide_2.entry.js":[392,48],"./ion-spinner.entry.js":[393,13],"./ion-split-pane.entry.js":[394,49],"./ion-tab-bar_2.entry.js":[395,36],"./ion-tab_2.entry.js":[396,15],"./ion-text.entry.js":[397,37],"./ion-textarea.entry.js":[398,38],"./ion-toast.entry.js":[399,39],"./ion-toggle.entry.js":[400,12],"./ion-virtual-scroll.entry.js":[401,50]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(a)},r.id=199,e.exports=r},201:function(e,n,t){var a={"./ion-icon.entry.js":[403,57]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(a)},r.id=201,e.exports=r},212:function(e,n){},214:function(e,n){},227:function(e,n){},229:function(e,n){},258:function(e,n,t){},259:function(e,n,t){},260:function(e,n,t){},357:function(e,n,t){"use strict";t.r(n);var a,r=t(0),o=t.n(r),c=t(71),i=t.n(c),l=t(46),s=t(11),u=t(48),m=t(177),f=t(16),d=t(17),b=t(30);!function(e){e.XL="2.625rem",e.L="2rem",e.M="1.3125rem",e.SM="0.75rem",e.XS="0.6875rem",e.XXS="0.375rem"}(a||(a={}));var p=t(1),g=t(2),h=function(){function e(){Object(p.a)(this,e)}return Object(g.a)(e,null,[{key:"serializeLineHeight",value:function(e){switch(e){case a.L:return"line-height: 2.0625rem;";case a.SM:return"line-height: 1.125rem;";case a.XS:return"line-height: 95%;";default:return""}}},{key:"serializeFontSize",value:function(n){if(n)return"\n      ".concat(e.serializeLineHeight(n),"\n      font-size: ").concat(n," !important;\n    ")}},{key:"serializeFontWeight",value:function(e){if(e)return"font-weight: ".concat(e,";")}}]),e}();function O(){var e=Object(f.a)(["\n  ","\n  ","\n"]);return O=function(){return e},e}var E=Object(d.a)(s.k)(O(),(function(e){var n=e.fontSize;return h.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return h.serializeFontWeight(n)}));function v(){var e=Object(f.a)(["\n  ","\n  ","\n"]);return v=function(){return e},e}var j=Object(d.a)(s.t)(v(),(function(e){var n=e.fontSize;return h.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return h.serializeFontWeight(n)}));function y(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  max-height: 2.25rem;\n  --background: var(--app-color-dark-cyan-blue);\n"]);return y=function(){return e},e}function S(){var e=Object(f.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]);return S=function(){return e},e}function k(){var e=Object(f.a)(["\n  &&&& {\n    margin-top: 1.125rem;\n    margin-bottom: 1.125rem;\n  }\n"]);return k=function(){return e},e}function N(){var e=Object(f.a)(["\n  &&&& {\n    margin-left: 1rem;\n    margin-right: 1.25rem;\n  }\n"]);return N=function(){return e},e}function C(){var e=Object(f.a)(["\n  &&&& {\n    margin-left: 1rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0.75rem;\n  }\n"]);return C=function(){return e},e}function x(){var e=Object(f.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]);return x=function(){return e},e}function z(){var e=Object(f.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]);return z=function(){return e},e}function _(){var e=Object(f.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n  --max-width: 70vw;\n"]);return _=function(){return e},e}var w=Object(d.a)(s.m)(_()),P=Object(d.a)(s.u)(z()),R=Object(d.a)(s.e)(x()),T=Object(d.a)(s.b)(C()),L=Object(d.a)(s.h)(N()),D=Object(d.a)(E)(k()),A=Object(d.a)(s.u)(S()),I=Object(d.a)(s.u)(y()),W=function(e){var n=e.icon,t=e.label;return o.a.createElement(s.j,{lines:"none",class:"app-bg-color-transparent"},o.a.createElement(L,{color:"light",icon:n,slot:"start"}),o.a.createElement(D,{className:"ion-text-uppercase",color:"light",fontSize:a.SM},t))},M=function(e){var n=e.children,t=Object(r.useRef)(),c=Object(r.useCallback)((function(e){e.preventDefault(),t.current&&t.current.close(!0)}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{ref:function(e){t.current=e},side:"start","content-id":"home-content",menuId:"home-menu"},o.a.createElement(s.g,{className:"ion-no-border"},o.a.createElement(P,null,o.a.createElement(s.c,{slot:"start"},o.a.createElement(T,{onClick:c},o.a.createElement(s.h,{color:"light",slot:"icon-only",icon:b.a}))))),o.a.createElement(R,null,o.a.createElement(s.l,{color:"none",class:"app-bg-color-transparent"},o.a.createElement(W,{icon:b.i,label:"Home"}),o.a.createElement(W,{icon:b.l,label:"My Profile"})))),o.a.createElement(s.g,{className:"ion-no-border"},o.a.createElement(A,null,o.a.createElement(s.c,{slot:"start"},o.a.createElement(s.n,{menu:"home-menu","auto-hide":"false"},o.a.createElement(s.h,{color:"light",icon:b.j}))),o.a.createElement(s.c,{slot:"primary"},o.a.createElement(s.b,null,o.a.createElement(s.h,{color:"light",slot:"icon-only",icon:b.o}))),o.a.createElement(j,{color:"light",fontSize:a.M,className:"ion-text-center"},"Home")),n&&o.a.createElement(I,{className:"ion-no-padding"},n)))},U=t(7);function F(e){var n=r.useRef();return n.current||(n.current={v:e()}),n.current.v}function K(){var e=Object(f.a)(["\n  position: relative;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  background-color: --var(--app-dark-cyan-blue);\n\n  &:after {\n    content: ' ';\n    display: table;\n    clear: both;\n  }\n\n  > li {\n    float: left;\n    width: ","%;\n    padding-bottom: 0.25rem;\n    text-align: center;\n\n    &.slider {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 4px;\n      background-color: var(--ion-color-danger);\n      transform-origin: 0 0;\n      transition: transform 0.25s;\n    }\n\n    ","\n  }\n"]);return K=function(){return e},e}var B=d.a.ul(K(),(function(e){return(100/e.tabsLength).toFixed(2)}),(function(e){var n=e.tabsLength;return Array.from({length:n},(function(e,t){return"\n      :nth-child(".concat(t+1,").active ~ .slider {\n        transform: translateX(calc(").concat((100/n).toFixed(2),"% * ").concat(t,")) scaleX(").concat((100/n/100).toFixed(2),");\n}\n    ")})).join(" ")})),G=Object(r.createContext)([0,function(){}]),V=Object(r.createContext)({tabs:0,panels:0}),X=function(e){var n=e.state,t=e.children,a=Object(r.useState)(0),c=F((function(){return{tabs:0,panels:0}})),i=n||a;return o.a.createElement(V.Provider,{value:c},o.a.createElement(G.Provider,{value:i},t))},Y=function(e){var n=e.children,t=Object(r.useContext)(V);return o.a.createElement(B,{tabsLength:t.tabs},n,o.a.createElement("li",{className:"slider"}))},q=function(e){var n=e.children,t=function(){var e=Object(r.useContext)(G),n=Object(U.a)(e,2),t=n[0],a=n[1],o=Object(r.useContext)(V),c=F((function(){var e=o.tabs;return o.tabs+=1,e})),i=F((function(){return function(){return a(c)}}));return Object(r.useMemo)((function(){return{isActive:t===c,onClick:i}}),[t,i,c])}();if("function"===typeof n)return n(t);var a=t.isActive;return o.a.createElement("li",{className:a?"active":""},Object(r.isValidElement)(n)?Object(r.cloneElement)(n,t):n)},H=function(e){var n=e.active,t=e.children;return function(){var e=Object(r.useContext)(G),n=Object(U.a)(e,1)[0],t=Object(r.useContext)(V);return F((function(){var e=t.panels;return t.panels+=1,e}))===n}()||n?o.a.createElement(o.a.Fragment,null,t):o.a.createElement(o.a.Fragment,null)};function J(){var e=Object(f.a)(["\n  &::part(native) {\n  }\n\n  ","\n\n  &[size='large'] {\n    height: 4.8rem;\n    --padding-top: 1rem;\n    --padding-bottom: 1rem;\n  }\n\n  ","\n  ","\n"]);return J=function(){return e},e}var $=Object(d.a)(s.b)(J(),(function(e){var n=e.radius;return void 0===n||n?"--border-radius: 0.25rem;":""}),(function(e){var n=e.fontSize;return h.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return h.serializeFontWeight(n)}));function Q(){var e=Object(f.a)(["\n  display: inline-block;\n  ","\n  ","\n"]);return Q=function(){return e},e}var Z,ee=Object(d.a)(s.s)(Q(),(function(e){var n=e.fontSize;return h.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return h.serializeFontWeight(n)}));!function(e){e.NORMAL="400",e.BOLD="700"}(Z||(Z={}));var ne=function(){return"protokol.github.io"===window.location.hostname?"/collectibles-mobile":""},te={alt:"Welcome",src:"".concat(ne()).concat("/assets/images/welcome-screen.png"),srcSet:"".concat(ne()).concat("/assets/images/welcome-screen.png"," 1x, ").concat(ne()).concat("/assets/images/welcome-screen@2x.png"," 2x")};function ae(){var e=Object(f.a)(["\n  height: 3.4375rem;\n  --padding-top: 1.625rem;\n  --padding-bottom: 1.8125rem;\n\n  &.bg-gray {\n    --background: var(--app-color-gray);\n  }\n\n  &.bg-charade {\n    --background: var(--app-color-charade);\n  }\n\n  &.bg-dark-blue-magenta {\n    --background: var(--app-color-dark-blue-magenta);\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(f.a)(["\n  color: var(--app-color-gray);\n"]);return re=function(){return e},e}function oe(){var e=Object(f.a)(["\n  padding: 2.25rem;\n  background: var(--ion-color-light);\n  text-align: center;\n"]);return oe=function(){return e},e}function ce(){var e=Object(f.a)(["\n  text-decoration: underline;\n"]);return ce=function(){return e},e}function ie(){var e=Object(f.a)(["\n  position: relative;\n  padding: 3.5rem 2.05rem 1.85rem 1.5rem;\n  overflow: hidden;\n  z-index: 2;\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    opacity: 0.5;\n    background-image: url('","');\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: 50% 0;\n  }\n\n  > * {\n    position: relative;\n    z-index: 2;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(f.a)(["\n  line-height: 2rem;\n"]);return le=function(){return e},e}function se(){var e=Object(f.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]);return se=function(){return e},e}var ue=Object(d.a)(s.e)(se()),me=Object(d.a)(j)(le()),fe=Object(d.a)(s.d)(ie(),te.src),de=Object(d.a)($)(ce()),be=Object(d.a)(s.d)(oe()),pe=Object(d.a)(ee)(re()),ge=Object(d.a)($)(ae()),he=function(){return o.a.createElement(s.o,null,o.a.createElement(X,null,o.a.createElement(M,null,o.a.createElement(Y,null,o.a.createElement(q,null,o.a.createElement(me,{className:"ion-text-uppercase ion-text-left",fontSize:a.XS,color:"light"},"Home")),o.a.createElement(q,null,o.a.createElement(me,{className:"ion-text-uppercase ion-text-center",fontSize:a.XS,color:"light"},"Collectables")),o.a.createElement(q,null,o.a.createElement(me,{className:"ion-text-uppercase ion-text-right",fontSize:a.XS,color:"light"},"Market")))),o.a.createElement(ue,{fullscreen:!0,id:"home-content"},o.a.createElement(H,null,o.a.createElement(s.f,{className:"ion-no-padding"},o.a.createElement(s.r,null,o.a.createElement(fe,{size:"12"},o.a.createElement(E,{color:"light",fontSize:a.M,fontWeight:Z.BOLD},"Collecting Digital Hero Cards Is Easy!"),o.a.createElement("br",null),o.a.createElement(ee,{className:"ion-margin-vertical",color:"light",fontSize:a.XS},"Now you can find your favourite cards via the official NASCAR app, and digitally collect them! You can also scan QR codes at races, or buy cards at the market place."),o.a.createElement("br",null),o.a.createElement(de,{className:"ion-float-right",color:"light",fill:"clear",fontSize:a.SM,fontWeight:Z.BOLD},"Start collecting")),o.a.createElement(be,null,o.a.createElement(pe,{fontSize:a.M,fontWeight:Z.BOLD},"Gentlemen,",o.a.createElement("br",null),"start your engines\u2026")),o.a.createElement(s.d,{size:"12"},o.a.createElement(ge,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-gray",fontSize:a.SM,fontWeight:Z.BOLD},"Add new card"),o.a.createElement(ge,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-dark-blue-magenta",fontSize:a.SM,fontWeight:Z.BOLD},"Scan qr code"),o.a.createElement(ge,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-charade",fontSize:a.SM,fontWeight:Z.BOLD},"Buy a card"),o.a.createElement(ge,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-gray",fontSize:a.SM,fontWeight:Z.BOLD},"Earn a card"),o.a.createElement(ge,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-dark-blue-magenta",fontSize:a.SM,fontWeight:Z.BOLD},"Sell cards"),o.a.createElement(ge,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-gray",fontSize:a.SM,fontWeight:Z.BOLD},"Start an auction"))))),o.a.createElement(H,null,o.a.createElement(ee,{color:"light"},"Collectables")),o.a.createElement(H,null,o.a.createElement(ee,{color:"light"},"Market")))))},Oe=t(41),Ee=Array.from({length:9}),ve=function(e){var n=e.children,t=e.onClick,r=e.fontSize,c=void 0===r?a.M:r,i=e.size,l=void 0===i?"large":i,s=e.disabled,u=void 0!==s&&s;return o.a.createElement($,{type:"button",size:l,expand:"block",fill:"clear",color:"light",fontSize:c,onClick:function(e){e.preventDefault(),t(e)},disabled:u},n)},je=function(e){var n=e.onChange,t=e.onEnter,c=Object(r.useState)(""),i=Object(U.a)(c,2),l=i[0],u=i[1],m=Object(r.useCallback)((function(){return 4>l.length}),[l]),f=Object(r.useCallback)((function(e){m()&&u((function(n){return"".concat(n).concat(e)}))}),[u,m]),d=Object(r.useCallback)((function(){u((function(e){return e.length?e.slice(0,-1):""}))}),[u]);return Object(r.useEffect)((function(){n(l)}),[l,n]),o.a.createElement(o.a.Fragment,null,Ee.map((function(e,n){var t=(n+1).toString();return o.a.createElement(s.d,{key:n,size:"4"},o.a.createElement(ve,{disabled:!m(),onClick:function(){return f(t)}},t))})),o.a.createElement(s.d,{size:"4",offset:"4"},o.a.createElement(ve,{disabled:!m(),onClick:function(){return f("0")}},"0")),o.a.createElement(s.d,{size:"4",offset:"1"},o.a.createElement(ve,{size:"default",fontSize:a.SM,onClick:d},"Delete")),o.a.createElement(s.d,{size:"4",offset:"2"},o.a.createElement(ve,{size:"default",fontSize:a.SM,onClick:t},"Enter")))},ye=t(181);function Se(){var e=Object(f.a)(["\n  ","\n  ","\n"]);return Se=function(){return e},e}var ke=Object(d.a)((function(e){return o.a.createElement(ye.a,Object.assign({render:function(e){var n=e.message;return o.a.createElement(ee,{className:"ion-padding-top",fontSize:a.SM,color:"danger"},n)}},e))}))(Se(),(function(e){var n=e.fontSize;return h.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return h.serializeFontWeight(n)}));function Ne(){var e=Object(f.a)(["\n  &::part(input) {\n  }\n\n  --color: var(--ion-color-light);\n  --placeholder-color: var(--ion-color-light);\n  --background: var(--app-color-charade);\n  --padding-start: 1.375rem;\n  --padding-end: 1.375rem;\n  --padding-top: 1.1875rem;\n  --padding-bottom: 1.1875rem;\n\n  border: 1px solid var(--ion-color-light);\n\n  ","\n\n  &.form-input- {\n    &prefix-username {\n      &:before {\n        content: '@';\n        position: absolute;\n        left: 0.65rem;\n      }\n    }\n\n    &transparent {\n      --padding-start: 0.5rem;\n      --padding-end: 0.5rem;\n\n      --placeholder-color: transparent;\n      --background: transparent;\n\n      border: none;\n\n      &.has-focus {\n        border-bottom: 1px solid var(--ion-color-light);\n      }\n    }\n  }\n\n  ","\n"]);return Ne=function(){return e},e}var Ce,xe=Object(d.a)(s.i)(Ne(),(function(e){var n=e.fontSize;return h.serializeFontSize(n)}),(function(){return Array.from({length:12},(function(e,n){return"\n      &.form-input-prefix-number-".concat(n+1," {\n      width: ").concat(n+1>=10?"calc(100% - 2.5ch)":"calc(100% - 1.5ch)",";\n      margin-left: ").concat(n+1>=10?"2ch":"1ch",";\n      \n      &:before {\n        content: '").concat(n+1,"';\n        position: absolute;\n        left: -").concat(n+1>=10?"2ch":"1ch",";\n      }\n    }\n    ")})).join(" ")})),ze=t(22),_e=t(126),we=Object({NODE_ENV:"production",PUBLIC_URL:"/collectibles-mobile",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).STORAGE_VERSION||0,Pe="collectibles-mobile-v".concat(we,"::");!function(e){e.STORAGE_PK_KEY="pk",e.STORAGE_PIN_KEY="pin"}(Ce||(Ce={}));var Re,Te=function(e){return e.app.baseUrl},Le=function(e){return e.app.userPrivateKey},De=function(e){return e.network.nodeCryptoConfiguration},Ae=t(55),Ie=t(182),We=t.n(Ie),Me=function(){function e(){Object(p.a)(this,e)}return Object(g.a)(e,null,[{key:"hash",value:function(e){return Ae.utils.hex.fromBytes(We()(e,{asBytes:!0}))}},{key:"encode",value:function(e,n){var t=new Ae.ModeOfOperation.ctr(Ae.utils.hex.toBytes(n)).encrypt(Ae.utils.utf8.toBytes(e));return Ae.utils.hex.fromBytes(t)}},{key:"decode",value:function(e,n){var t=new Ae.ModeOfOperation.ctr(Ae.utils.hex.toBytes(n)).decrypt(Ae.utils.hex.toBytes(e));return Ae.utils.utf8.fromBytes(t)}}]),e}(),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage,n=function(n,t){try{var a=JSON.stringify(t);e.setItem("".concat(Pe).concat(n),a)}catch(r){throw new Error('Failed to serialize value for key: "'.concat(n,'"'))}},t=function(n){try{var t=e.getItem("".concat(Pe).concat(n));if(!t)return;return JSON.parse(t)}catch(a){throw new Error('Failed to deserialize value for key: "'.concat(n,'"'))}},a=function(n){e.removeItem("".concat(Pe).concat(n))},r=function(){e.clear()};return{set:n,get:t,removeItem:a,clear:r}},Fe={session:{isReady:!1,error:null}},Ke=Object(r.createContext)({}),Be=Ue(window.sessionStorage),Ge=function(e){var n=e.children,t=Object(r.useState)(Object(ze.a)({},Fe)),a=Object(U.a)(t,2),c=a[0],i=a[1],s=Object(l.d)(Le,l.b),u=Object(l.d)(De,l.b),m=Object(r.useCallback)((function(e,n,t){try{var a=Me.decode(n,e),r=JSON.parse(a).passphrase,o=t.network.pubKeyHash,c=_e.a.Address.fromPassphrase(r,o),l=_e.a.PrivateKey.fromPassphrase(r);i({session:{isReady:!0,error:null,address:c,privateKey:l}})}catch(s){console.error("decode failed",s),i({session:{isReady:!1,error:s}})}finally{Be.removeItem(Ce.STORAGE_PIN_KEY)}}),[]);Object(r.useEffect)((function(){var e=Be.get(Ce.STORAGE_PIN_KEY);e&&s&&u&&m(e,s,u)}),[s,u,m]);var f={state:c,setPin:Object(r.useCallback)((function(e){Be.set(Ce.STORAGE_PIN_KEY,Me.hash(e)),i(Object(ze.a)({},Fe))}),[])};return o.a.createElement(Ke.Provider,{value:f},n)};!function(e){e.SET_BASE_URL="@App/SET_BASE_URL",e.SET_ENCODED_USER_PRIVATE_KEY="@App/SET_ENCODED_USER_PRIVATE_KEY"}(Re||(Re={}));var Ve=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Re.SET_ENCODED_USER_PRIVATE_KEY,payload:{userPrivateKey:e,saveToStorage:n}}},Xe=t(106),Ye=function(){function e(){Object(p.a)(this,e)}return Object(g.a)(e,null,[{key:"isValidPassphrase",value:function(e){return Xe.validateMnemonic(e)}},{key:"generatePassphrase",value:function(){return Xe.generateMnemonic(void 0,void 0,Xe.wordlists.english)}}]),e}(),qe={},He=Object(r.createContext)({}),Je=function(e){var n=e.children,t=Object(r.useState)(Object(ze.a)({},qe)),a=Object(U.a)(t,2),c=a[0],i=a[1],s=Object(l.c)(),u=Object(r.useContext)(Ke).setPin,m=Object(r.useCallback)((function(){i(Object(ze.a)({},qe))}),[i]),f=Object(r.useCallback)((function(e){i((function(n){return Object(ze.a)(Object(ze.a)({},n),{},{username:e})}))}),[i]),d=Object(r.useCallback)((function(e){i((function(n){return Object(ze.a)(Object(ze.a)({},n),{},{passphrase:e})}))}),[i]),b=Object(r.useCallback)((function(e){var n=c.passphrase||Ye.generatePassphrase(),t=JSON.stringify({passphrase:n}),a=Me.encode(t,Me.hash(e));u(e),s(Ve(a)),m()}),[c,u,s,m]),p={state:c,setUsername:f,setPin:b,setPassphrase:d,reset:m};return o.a.createElement(He.Provider,{value:p},n)};function $e(){var e=Object(f.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        height: 40vh;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n\n  .form-input-pin {\n    width: 80%;\n    --padding-start: 2.375rem;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    letter-spacing: 1rem;\n  }\n"]);return $e=function(){return e},e}var Qe,Ze=Object(d.a)(s.e)($e());!function(e){e[e.Passcode=0]="Passcode",e[e.ConfirmPasscode=1]="ConfirmPasscode"}(Qe||(Qe={}));var en=function(e){var n=e.history,t=e.withConfirm,c=void 0!==t&&t,i=Object(r.useContext)(Ke).state.session,l=Object(r.useContext)(He).setPin,u=Object(r.useState)(Qe.Passcode),m=Object(U.a)(u,2),f=m[0],d=m[1],b=Object(Oe.c)({defaultValues:{passcode:"",confirmPasscode:""},mode:"onSubmit"}),p=b.control,g=b.handleSubmit,h=b.errors,O=b.watch,E=b.register,v=b.clearErrors,j=O(),y=j.passcode,S=j.confirmPasscode;Object(r.useEffect)((function(){i&&!i.error&&i.isReady&&n.push("/home")}),[i,n]);var k=Object(r.useCallback)((function(e){var n=e.passcode;c&&f===Qe.Passcode?(E("confirmPasscode",{required:"Passcode is required!",pattern:{value:/^[0-9]{4}$/,message:"Passcode should be 4-digit number"},validate:function(e){return e===n||"Passcodes do not match"}}),d(Qe.ConfirmPasscode),v(["passcode","confirmPasscode"])):l(n)}),[l,E,c,v,f]),N=Object(r.useCallback)((function(){switch(f){case Qe.ConfirmPasscode:return"Confirm your passcode";case Qe.Passcode:default:return"Create your passcode"}}),[f]),C=Object(r.useCallback)((function(){switch(f){case Qe.ConfirmPasscode:return o.a.createElement(o.a.Fragment,null,"Please ",o.a.createElement("b",null,"confirm")," your ",o.a.createElement("b",null,"passcode"),". Don\u2019t forget to store it somewhere safe, since we are unable to restore any lost passcodes!");case Qe.Passcode:default:return o.a.createElement(o.a.Fragment,null,"Create your ",o.a.createElement("b",null,"passcode"),". Make sure that you\xa0",o.a.createElement("b",null,"Store it somewhere safely"),", since we are unable to restore any lost passcodes!")}}),[f]);return o.a.createElement(s.o,null,o.a.createElement(Ze,{fullscreen:!0},o.a.createElement(s.f,{className:"ion-no-padding"},o.a.createElement(s.r,null,o.a.createElement(s.d,{size:"12"},o.a.createElement(ee,{className:"ion-margin-bottom",fontSize:a.L,color:"light",fontWeight:Z.BOLD},N()),o.a.createElement(ee,{className:"ion-margin-top",fontSize:a.SM,color:"light"},C())),o.a.createElement(s.d,{size:"8",offset:"2"},o.a.createElement("form",{onSubmit:g(k)},o.a.createElement(Oe.a,{render:function(e){var n=e.onChange;return o.a.createElement(s.r,{hidden:f!==Qe.Passcode},o.a.createElement(s.d,{size:"12"},o.a.createElement(xe,{type:"password",value:y,className:"form-input-pin",fontSize:a.M,readonly:!0})),o.a.createElement(je,{onChange:n,onEnter:g(k)}))},control:p,name:"passcode",rules:{required:"Passcode is required!",pattern:{value:/^[0-9]{4}$/,message:"Passcode should be 4-digit number"}}}),o.a.createElement(Oe.a,{render:function(e){var n=e.onChange;return o.a.createElement(s.r,{hidden:f!==Qe.ConfirmPasscode},o.a.createElement(s.d,{size:"12"},o.a.createElement(xe,{type:"password",value:S,className:"form-input-pin",fontSize:a.M,readonly:!0})),o.a.createElement(je,{onChange:n,onEnter:g(k)}))},control:p,name:"confirmPasscode"}),o.a.createElement("div",{className:"ion-text-center"},o.a.createElement(ke,{errors:h,name:"passcode"}),o.a.createElement(ke,{errors:h,name:"confirmPasscode"}))))))))},nn=t(13),tn=t(10),an=t.n(tn),rn=t(23),on=0,cn=function(){function e(){Object(p.a)(this,e)}return Object(g.a)(e,null,[{key:"uniqueId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return on+=1,e.toString()+on}},{key:"wait",value:function(e){return new Promise((function(n){return setTimeout(n,e)}))}}]),e}(),ln=function(e){var n=e.onChange,t=Object(r.useState)(Array.from({length:12},(function(){return""}))),c=Object(U.a)(t,2),i=c[0],l=c[1],u=o.a.useState([]),m=Object(U.a)(u,2),f=m[0],d=m[1];o.a.useEffect((function(){d((function(e){return Array.from({length:12},(function(n,t){return e[t]||Object(r.createRef)()}))}))}),[]),Object(r.useEffect)((function(){n(i.map((function(e){return e.trim()})).join(" ").toLowerCase())}),[i,n]),Object(r.useEffect)((function(){var e=function(){var e=Object(rn.a)(an.a.mark((function e(n){return an.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cn.wait(250);case 4:return e.next=6,n.setFocus();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if(f.length){var n=Object(U.a)(f,1)[0];n&&e(n.current)}}),[f]);var b=Object(r.useCallback)((function(e,n){l((function(t){return[].concat(Object(nn.a)(t.slice(0,n)),[e],Object(nn.a)(t.slice(n+1)))}))}),[l]);return o.a.createElement(o.a.Fragment,null,i.map((function(e,n){return o.a.createElement(s.d,{key:n,size:"3"},o.a.createElement(xe,{className:"form-input-transparent form-input-prefix-number-".concat(n+1),"data-number":n+1,type:"text",fontSize:a.SM,value:e,onIonChange:function(e){var t=e.detail.value;return b(t,n)},ref:f[n]}))})))};function sn(){var e=Object(f.a)(["\n  border-radius: 0.25rem;\n  background-color: var(--app-color-gray);\n"]);return sn=function(){return e},e}function un(){var e=Object(f.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        height: 40vh;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n"]);return un=function(){return e},e}var mn=Object(d.a)(s.e)(un()),fn=d.a.div(sn()),dn=function(e){var n=e.history,t=Object(r.useContext)(He).setPassphrase,c=Object(Oe.c)({defaultValues:{passphrase:""},mode:"onSubmit"}),i=c.control,l=c.handleSubmit,u=c.errors,m=Object(r.useCallback)((function(e){var a=e.passphrase;t(a),n.push("/register/passcode")}),[t,n]);return o.a.createElement(s.o,null,o.a.createElement(mn,{fullscreen:!0},o.a.createElement(s.f,{className:"ion-no-padding"},o.a.createElement(s.r,null,o.a.createElement(s.d,{size:"12"},o.a.createElement(ee,{className:"ion-margin-bottom",fontSize:a.L,color:"light",fontWeight:Z.BOLD},"Sign in with your recovery phrase"),o.a.createElement(ee,{className:"ion-margin-top",fontSize:a.SM,color:"light"},"Restore your account with the ",o.a.createElement("b",null,"12 word phrase"),", that you were given when you created your account. ",o.a.createElement("b",null,"Make sure")," that they are in the correct order!")),o.a.createElement(s.d,{size:"12",className:"ion-padding"},o.a.createElement(fn,{className:"ion-padding"},o.a.createElement("form",{onSubmit:l(m)},o.a.createElement(Oe.a,{render:function(e){var n=e.onChange;return o.a.createElement(s.r,null,o.a.createElement(ln,{onChange:n}))},control:i,name:"passphrase",rules:{required:"Passphrase is required!",pattern:{value:/^(\w+\s){11}(\w+)$/,message:"Passphrase should be 12 words long. Fill out remaining fields!"},validate:function(e){return Ye.isValidPassphrase(e)||"Invalid passphrase!"}}})))),o.a.createElement(s.d,{size:"12",className:"ion-padding-horizontal"},o.a.createElement(ke,{errors:u,name:"passphrase"})),o.a.createElement(s.d,{className:"ion-padding-horizontal",size:"12"},o.a.createElement($,{size:"large",expand:"block",className:"ion-text-uppercase ion-no-margin ion-margin-top",color:"tertiary",fontSize:a.SM,fontWeight:Z.BOLD,onClick:l(m)},"Restore wallet")),o.a.createElement(s.d,{className:"ion-padding-horizontal",size:"12"},o.a.createElement($,{size:"large",expand:"block",fill:"clear",className:"ion-text-capitalize ion-no-margin",color:"light",fontSize:a.SM,onClick:function(){return n.push("/welcome")}},"Back"))))))};function bn(){var e=Object(f.a)(["\n  --background: var(--app-color-charade);\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        height: 40vh;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n"]);return bn=function(){return e},e}var pn=Object(d.a)(s.e)(bn()),gn=function(e){var n=e.history,t=Object(r.useContext)(He).setUsername,c=Object(Oe.c)({defaultValues:{username:""},mode:"onChange"}),i=c.formState,l=c.control,u=c.handleSubmit,m=c.errors,f=Object(r.useCallback)((function(e){var a=e.username;i.isValid&&(t(a),n.push("/register/passcode"))}),[i.isValid,t,n]);return o.a.createElement(s.o,null,o.a.createElement(pn,{fullscreen:!0},o.a.createElement(s.f,{className:"ion-no-padding"},o.a.createElement(s.r,null,o.a.createElement(s.d,{size:"12"},o.a.createElement(ee,{className:"ion-margin-bottom",fontSize:a.L,color:"light",fontWeight:Z.BOLD},"Pick your username"),o.a.createElement(ee,{className:"ion-margin-top",fontSize:a.SM,color:"light"},"Collecting digital hero cards is easy! Make it even easier for other collectors to find you, and star collecting your favourite cards!")),o.a.createElement(s.d,{size:"12",className:"ion-padding"},o.a.createElement("form",{onSubmit:u(f)},o.a.createElement(Oe.a,{render:function(e){var n=e.onChange;return o.a.createElement(xe,{type:"text",className:"form-input-prefix-username ion-margin-bottom",fontSize:a.SM,placeholder:"Pick username...",onIonChange:function(e){var t=e.detail.value;return n(t)}})},control:l,name:"username",rules:{required:"Username is required!"}}),o.a.createElement(ke,{errors:m,name:"username"}),o.a.createElement($,{type:"submit",size:"large",expand:"block",className:"ion-text-uppercase ion-no-margin ion-margin-top",color:"tertiary",fontSize:a.SM,fontWeight:Z.BOLD,disabled:!i.isValid},"Register username")))))))};function hn(){var e=Object(f.a)(["\n  height: auto;\n  width: 100%;\n  object-fit: cover;\n"]);return hn=function(){return e},e}var On=d.a.img(hn());function En(){var e=Object(f.a)(["\n  --background: var(--app-color-charade);\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 30vh;\n      }\n\n      &:nth-child(2) {\n        height: 30vh;\n        overflow: hidden;\n      }\n\n      &:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        height: 35vh;\n        width: 100vw;\n      }\n    }\n  }\n"]);return En=function(){return e},e}var vn=Object(d.a)(s.e)(En()),jn=function(){return o.a.createElement(s.o,null,o.a.createElement(vn,{fullscreen:!0},o.a.createElement(s.f,{className:"ion-no-padding"},o.a.createElement(s.r,null,o.a.createElement(s.d,{size:"12"},o.a.createElement(ee,{className:"ion-text-uppercase",fontSize:a.XL,color:"light",fontWeight:Z.BOLD},"Nascar"),o.a.createElement(ee,{className:"ion-text-capitalize",fontSize:a.L,color:"light",fontWeight:Z.BOLD},"Digital Hero Cards")),o.a.createElement(s.d,{className:"ion-no-padding",size:"12"},o.a.createElement(On,te)),o.a.createElement(s.d,{size:"12"},o.a.createElement($,{size:"large",expand:"block",className:"ion-text-uppercase ion-margin",fontSize:a.SM,fontWeight:Z.BOLD,routerLink:"/login/passphrase"},"Existing user"),o.a.createElement($,{size:"large",expand:"block",className:"ion-text-uppercase ion-margin",color:"tertiary",fontSize:a.SM,fontWeight:Z.BOLD,routerLink:"/register/username"},"Create account")),o.a.createElement(s.d,{size:"12",className:"ion-text-center"},o.a.createElement(ee,{fontSize:a.XXS,color:"light"},"\xa9 Protokol, 2021"))))))},yn=(t(248),t(249),t(250),t(251),t(252),t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(260),function(){var e=Object(l.c)();return Object(r.useEffect)((function(){var n;e((n="https://proto-devnet.protokol.sh",{type:Re.SET_BASE_URL,payload:{baseUrl:n}}))}),[e]),o.a.createElement(s.a,null,o.a.createElement(Ge,null,o.a.createElement(m.a,null,o.a.createElement(s.q,null,o.a.createElement(u.b,{path:"/welcome",component:jn,exact:!0}),o.a.createElement(u.b,{path:"/home",component:he,exact:!0}),o.a.createElement(Je,null,o.a.createElement(u.b,{path:"/login/passphrase",component:dn,exact:!0}),o.a.createElement(u.b,{path:"/register/username",component:gn,exact:!0}),o.a.createElement(u.b,{path:"/register/passcode",exact:!0,render:function(e){return o.a.createElement(en,Object.assign({withConfirm:!0},e))}})),o.a.createElement(u.b,{path:"/",render:function(){return o.a.createElement(u.a,{to:"/welcome"})},exact:!0})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Sn,kn=t(61),Nn=t(411),Cn=t(414),xn=t(183),zn=t(184),_n=t(98),wn=t(406),Pn=t(127),Rn=t(413),Tn=t(415),Ln=t(407),Dn=t(412),An=t(408);!function(e){e.LOAD_NETWORK_CONFIGURATION="@Network/LOAD_NETWORK_CONFIGURATION",e.NETWORK_CONFIGURATION_SUCCESS="@Network/NETWORK_CONFIGURATION_SUCCESS",e.NETWORK_CONFIGURATION_ERROR="@Network/NETWORK_CONFIGURATION_ERROR"}(Sn||(Sn={}));var In=function(e){return{type:Sn.LOAD_NETWORK_CONFIGURATION,payload:{baseUrl:e}}},Wn=[function(e,n){return n.pipe(Object(_n.a)(Te),Object(wn.a)(),Object(Pn.a)((function(e){return!!e})),Object(_n.a)(In))},function(e,n,t){var a=t.storage;return e.pipe(Object(xn.a)(Re.SET_ENCODED_USER_PRIVATE_KEY),Object(Rn.a)(n.pipe(Object(_n.a)(Le))),Object(Tn.a)((function(e){var n=Object(U.a)(e,2),t=n[0].payload,r=n[1];t.saveToStorage&&a.set(Ce.STORAGE_PK_KEY,r)})),Object(Ln.a)())},function(e,n,t){var a=t.storage;return e.pipe(Object(Dn.a)(),Object(An.a)((function(){var e=a.get(Ce.STORAGE_PK_KEY);return e?Object(zn.a)(Ve(e,!1)):Object(zn.a)().pipe(Object(Ln.a)())})))}],Mn=t(409),Un=t(410),Fn=[function(e,n,t){var a=t.connection;return e.ofType(Sn.LOAD_NETWORK_CONFIGURATION).pipe(Object(Rn.a)(n.pipe(Object(_n.a)(Te))),Object(An.a)((function(e){var n=Object(U.a)(e,2),t=n[0],r=n[1],o=t.payload;return Object(Mn.a)((function(){return a(o.baseUrl||r).api("node").crypto()})).pipe(Object(_n.a)((function(e){var n,t;return t=null===e||void 0===e||null===(n=e.body)||void 0===n?void 0:n.data,{type:Sn.NETWORK_CONFIGURATION_SUCCESS,payload:{nodeCryptoConfiguration:t}}})),Object(Un.a)((function(e){return Object(zn.a)((n=e,{type:Sn.NETWORK_CONFIGURATION_ERROR,payload:{error:n}}));var n})))})))}],Kn=Cn.a.apply(void 0,Object(nn.a)(Wn).concat(Object(nn.a)(Fn))),Bn={baseUrl:void 0,userPrivateKey:void 0},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case Re.SET_BASE_URL:var a=n.payload.baseUrl;return Object(ze.a)(Object(ze.a)({},e),{},{baseUrl:a});case Re.SET_ENCODED_USER_PRIVATE_KEY:var r=n.payload.userPrivateKey;return Object(ze.a)(Object(ze.a)({},e),{},{userPrivateKey:r});default:return e}},Vn={isLoading:!1},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case Sn.LOAD_NETWORK_CONFIGURATION:return Object(ze.a)(Object(ze.a)({},e),{},{isLoading:!0});case Sn.NETWORK_CONFIGURATION_SUCCESS:var a=n.payload.nodeCryptoConfiguration;return Object(ze.a)(Object(ze.a)({},e),{},{isLoading:!1,nodeCryptoConfiguration:a});default:return e}},Yn=Object(kn.c)({app:Gn,network:Xn}),qn=t(186),Hn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new qn.ProtokolConnection("".concat(e,"/api")).withOptions({timeout:n})},Jn=Object(Nn.a)({dependencies:{connection:Hn,storage:Ue()}});Object(s.D)({mode:"md"});var $n=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||kn.d,n=Object(kn.e)(Yn,e(Object(kn.a)(Jn)));return Jn.run(Kn),n}();i.a.render(o.a.createElement(l.a,{store:$n},o.a.createElement(yn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[189,3,4]]]);
//# sourceMappingURL=main.0f687343.chunk.js.map