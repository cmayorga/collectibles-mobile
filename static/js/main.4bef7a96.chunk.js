(this["webpackJsonpcollectibles-mobile"]=this["webpackJsonpcollectibles-mobile"]||[]).push([[1],{1063:function(e,n,t){"use strict";t.r(n);var r,c=t(57),a=t.n(c),i=t(43),o=t(3),s=t(13),l=t(8),d=t.n(l),u=t(27),j=t(0),b=t(29),O=t(464),f=t(260),p=t(447),h=t(157),g=t(18),m=Object({NODE_ENV:"production",PUBLIC_URL:"/collectibles-mobile",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORAGE_VERSION||0,x="collectibles-mobile-v".concat(m,"::");!function(e){e.STORAGE_PK_KEY="pk",e.STORAGE_PIN_KEY="pin"}(r||(r={}));var y,v=function(e){return e.app.baseUrl},S=function(e){return e.app.userPrivateKey},C=function(e){return e.network.nodeCryptoConfiguration},N=t(159),T=t(422),E=t(4),_=t(9),R=t(87),k=t(451),w=t.n(k),A=function(){function e(){Object(E.a)(this,e)}return Object(_.a)(e,null,[{key:"hash",value:function(e){return R.utils.hex.fromBytes(w()(e,{asBytes:!0}))}},{key:"encode",value:function(e,n){var t=new R.ModeOfOperation.ctr(R.utils.hex.toBytes(n)).encrypt(R.utils.utf8.toBytes(e));return R.utils.hex.fromBytes(t)}},{key:"decode",value:function(e,n){var t=new R.ModeOfOperation.ctr(R.utils.hex.toBytes(n)).decrypt(R.utils.hex.toBytes(e));return R.utils.utf8.fromBytes(t)}}]),e}(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage,n=function(n,t){try{var r=JSON.stringify(t);e.setItem("".concat(x).concat(n),r)}catch(c){throw new Error('Failed to serialize value for key: "'.concat(n,'"'))}},t=function(n){try{var t=e.getItem("".concat(x).concat(n));if(!t)return;return JSON.parse(t)}catch(r){throw new Error('Failed to deserialize value for key: "'.concat(n,'"'))}},r=function(n){e.removeItem("".concat(x).concat(n))},c=function(){e.clear()};return{set:n,get:t,removeItem:r,clear:c}},z=t(1);!function(e){e[e.Unknown=0]="Unknown",e[e.NeedRegistration=1]="NeedRegistration",e[e.PinProtected=2]="PinProtected",e[e.LoggedIn=3]="LoggedIn",e[e.Error=4]="Error"}(y||(y={}));var L,P,M={session:{state:y.Unknown,error:null}},U=Object(j.createContext)({}),F=I(window.sessionStorage),D=function(e){var n=e.children,t=Object(j.useState)(Object(s.a)({},M)),c=Object(g.a)(t,2),a=c[0],o=c[1],l=Object(i.d)(S,i.b),d=Object(i.d)(C,i.b);Object(j.useEffect)((function(){null===l&&o({session:{state:y.NeedRegistration,error:null}})}),[l]);var u=Object(j.useCallback)((function(e,n,t){try{var c=A.decode(n,e),a=JSON.parse(c).passphrase,i=t.network.pubKeyHash,s=N.Identities.Address.fromPassphrase(a,i),l=N.Identities.PublicKey.fromPassphrase(a);o({session:{state:y.LoggedIn,error:null,address:s,passphrase:a,publicKey:l}})}catch(d){console.warn("decode failed",d),o({session:{state:y.Error,error:d}})}finally{F.removeItem(r.STORAGE_PIN_KEY)}}),[]);Object(j.useEffect)((function(){!F.get(r.STORAGE_PIN_KEY)&&l&&d&&o({session:{state:y.PinProtected,error:null}})}),[l,d]),Object(j.useEffect)((function(){var e=F.get(r.STORAGE_PIN_KEY);e&&l&&d&&u(e,l,d)}),[l,d,u,a.session]);var b=Object(j.useCallback)((function(e){F.set(r.STORAGE_PIN_KEY,A.hash(e)),o(Object(s.a)({},M))}),[]),O=Object(j.useMemo)((function(){return{session:a.session,setPin:b}}),[a.session,b]);return Object(z.jsx)(U.Provider,{value:O,children:n})},W=function(e){var n=e.component,t=e.requiresCordova,r=Object(h.a)(e,["component","requiresCordova"]),c=Object(j.useContext)(U).session.state,a=Object(b.f)();return t&&!Object(o.H)("cordova")?Object(z.jsx)(o.x,{isOpen:!0,onDidDismiss:function(){return a.replace("/")},message:"This feature requires to be run on native platform(iOS, Android)!",duration:2e3}):Object(z.jsx)(b.b,Object(s.a)(Object(s.a)({},r),{},{render:function(e){switch(c){case y.LoggedIn:return Object(z.jsx)(n,Object(s.a)({},e));case y.NeedRegistration:return Object(z.jsx)(b.a,{to:"/welcome",push:!1});case y.PinProtected:case y.Error:return Object(z.jsx)(b.a,{to:"/passcode",push:!1});case y.Unknown:default:return Object(z.jsx)(o.n,{isOpen:!0,message:"Please wait..."})}}}))},B=function(){var e=Object(j.useRef)(!1);return Object(j.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e},K=t(16),X=t(1126),q=t(466),G=t(41),H=t(17);!function(e){e.XXL="2.625rem",e.XL="2rem",e.L="1.3125rem",e.M="0.9375rem",e.SM="0.75rem",e.XS="0.6875rem",e.XXS="0.4375rem"}(L||(L={})),function(e){e.NORMAL="400",e.BOLD="700"}(P||(P={}));var V,Y,J,$,Q,Z,ee,ne,te,re,ce,ae,ie,oe,se,le,de,ue,je=function(){function e(){Object(E.a)(this,e)}return Object(_.a)(e,null,[{key:"serializeLineHeight",value:function(e){switch(e){case L.XL:return"line-height: 2.0625rem;";case L.SM:return"line-height: 1.125rem;";case L.XS:return"line-height: 95%;";default:return""}}},{key:"serializeFontSize",value:function(n){if(n)return"\n      ".concat(e.serializeLineHeight(n),"\n      font-size: ").concat(n," !important;\n    ")}},{key:"serializeFontWeight",value:function(e){if(e)return"font-weight: ".concat(e,";")}}]),e}(),be=Object(H.a)(o.v)(V||(V=Object(K.a)(["\n  display: inline-block;\n  ","\n  ","\n"])),(function(e){var n=e.fontSize;return je.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return je.serializeFontWeight(n)})),Oe=Object(H.a)(o.t)(Y||(Y=Object(K.a)(["\n  display: flex;\n"]))),fe=Object(H.a)(o.d)(J||(J=Object(K.a)(["\n  flex-grow: 1;\n  padding: 0.25rem;\n"]))),pe=H.a.div($||($=Object(K.a)(["\n  background: var(--app-color-charade);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  height: 100%;\n\n  ","\n\n  ","\n"])),(function(e){var n=e.isDescription;return"text-align: ".concat(n?"left":"center",";")}),(function(e){return e.isDescription?"padding: 1.65rem 1.15rem;":"padding: 2.25rem 0.55rem;"})),he=H.a.div(Q||(Q=Object(K.a)(["\n  background: var(--app-color-charade);\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: center;\n  overflow: hidden;\n  height: 100%;\n  padding: 1.25rem 1.75rem;\n\n  .text {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    padding-left: 1rem;\n\n    ion-text {\n      &:first-child {\n        padding-bottom: 0.25rem;\n      }\n    }\n  }\n"]))),ge=function(e){var n=e.title,t=e.subtitle,r=e.description,c=Object(h.a)(e,["title","subtitle","description"]);return Object(z.jsx)(fe,Object(s.a)(Object(s.a)({},c),{},{children:Object(z.jsxs)(pe,{isDescription:!!r,children:[t&&Object(z.jsx)(be,{fontSize:L.SM,fontWeight:P.BOLD,color:"light",children:t}),n&&Object(z.jsx)(be,{className:"ion-text-capitalize",fontSize:L.XXS,color:"light",children:n}),r&&Object(z.jsx)(be,{fontSize:L.SM,color:"light",children:r})]})}))},me=function(e){var n=e.title,t=e.subtitle,r=e.icon,c=Object(h.a)(e,["title","subtitle","icon"]);return Object(z.jsx)(fe,Object(s.a)(Object(s.a)({},c),{},{children:Object(z.jsxs)(he,{children:[r&&Object(z.jsx)(o.i,{size:"large",color:"light",slot:"icon-only",icon:r}),Object(z.jsxs)("div",{className:"text",children:[n&&Object(z.jsx)(be,{className:"ion-text-capitalize",fontSize:L.SM,color:"light",children:n}),t&&Object(z.jsx)(be,{className:"ion-text-capitalize",fontSize:L.XXS,color:"light",children:t})]})]})}))},xe=function(e){var n=e.children;return Object(z.jsx)(Oe,{className:"ion-padding-horizontal ion-no-margin",children:n})},ye=Object(H.a)(o.l)(Z||(Z=Object(K.a)(["\n  ","\n  ","\n"])),(function(e){var n=e.fontSize;return je.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return je.serializeFontWeight(n)})),ve=Object(H.a)(o.w)(ee||(ee=Object(K.a)(["\n  ","\n  ","\n"])),(function(e){var n=e.fontSize;return je.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return je.serializeFontWeight(n)})),Se=Object(H.a)(o.o)(ne||(ne=Object(K.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n  --max-width: 70vw;\n"]))),Ce=Object(H.a)(o.y)(te||(te=Object(K.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]))),Ne=Object(H.a)(o.e)(re||(re=Object(K.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]))),Te=Object(H.a)(o.b)(ce||(ce=Object(K.a)(["\n  &&&& {\n    margin-left: 1rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0.75rem;\n  }\n"]))),Ee=Object(H.a)(o.i)(ae||(ae=Object(K.a)(["\n  &&&& {\n    margin-left: 1rem;\n    margin-right: 1.25rem;\n  }\n"]))),_e=Object(H.a)(ye)(ie||(ie=Object(K.a)(["\n  &&&& {\n    margin-top: 1.125rem;\n    margin-bottom: 1.125rem;\n  }\n"]))),Re=Object(H.a)(o.y)(oe||(oe=Object(K.a)(["\n  --background: var(--app-color-dark-cyan-blue);\n"]))),ke=Object(H.a)(o.y)(se||(se=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  max-height: 2.25rem;\n  --background: var(--app-color-dark-cyan-blue);\n"]))),we=function(e){var n=e.icon,t=e.label,r=e.navigateTo,c=Object(b.f)(),a=Object(j.useCallback)((function(e){c.push(e)}),[c]);return Object(z.jsxs)(o.k,{lines:"none",class:"app-bg-color-transparent",children:[Object(z.jsx)(Ee,{color:"light",icon:n,slot:"start"}),Object(z.jsx)(_e,{className:"ion-text-uppercase",color:"light",fontSize:L.SM,onClick:function(){r&&a(r)},children:t})]})},Ae=function(e){var n=e.children,t=e.contentId,r=void 0===t?"home-content":t,c=e.title,a=e.buttonTopLeft,i=Object(j.useRef)(),s=Object(j.useCallback)((function(e){e.preventDefault(),i.current&&i.current.close(!0)}),[i]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(Se,{ref:function(e){i.current=e},side:"start","content-id":r,menuId:"home-menu",children:[Object(z.jsx)(o.h,{className:"ion-no-border",children:Object(z.jsx)(Ce,{children:Object(z.jsx)(o.c,{slot:"start",children:Object(z.jsx)(Te,{onClick:s,children:Object(z.jsx)(o.i,{color:"light",slot:"icon-only",icon:G.a})})})})}),Object(z.jsx)(Ne,{children:Object(z.jsxs)(o.m,{color:"none",class:"app-bg-color-transparent",children:[Object(z.jsx)(we,{icon:G.i,label:"Home",navigateTo:"/home"}),Object(z.jsx)(we,{icon:G.m,label:"My Profile"})]})})]}),Object(z.jsxs)(o.h,{className:"ion-no-border",children:[Object(z.jsxs)(Re,{children:[Object(z.jsx)(o.c,{slot:"start",children:a?Object(z.jsx)(z.Fragment,{children:a}):Object(z.jsx)(o.p,{menu:"home-menu","auto-hide":"false",children:Object(z.jsx)(o.i,{color:"light",icon:G.k})})}),Object(z.jsx)(o.c,{slot:"primary",children:Object(z.jsx)(o.b,{children:Object(z.jsx)(o.i,{color:"light",slot:"icon-only",icon:G.p})})}),Object(z.jsx)(ve,{color:"light",fontSize:L.L,className:"ion-text-center",children:c})]}),n&&Object(z.jsx)(ke,{className:"ion-no-padding",children:n})]})]})},Ie=H.a.img(le||(le=Object(K.a)(["\n  height: auto;\n  width: 100%;\n  object-fit: cover;\n"]))),ze="/assets/images/welcome-screen.png",Le="/assets/images/driver.png",Pe="/assets/images/driver-high-res.png",Me=function(){return"protokol.github.io"===window.location.hostname?"/collectibles-mobile":""},Ue=function(e){return"https://gateway.pinata.cloud/ipfs/".concat(e)},Fe={alt:"Welcome",src:"".concat(Me()).concat(ze),srcSet:"".concat(Me()).concat(ze," 1x, ").concat(Me()).concat("/assets/images/welcome-screen@2x.png"," 2x")},De=("".concat(Me()).concat(Le),"".concat(Me()).concat(Le," 1x, ").concat(Me()).concat("/assets/images/driver@2x.png"," 2x"),{alt:"Driver",src:"".concat(Me()).concat(Pe),srcSet:"".concat(Me()).concat(Pe," 1x, ").concat(Me()).concat("/assets/images/driver-high-res@2x.png"," 2x")}),We=function(e){return e.collections},Be=function e(){Object(E.a)(this,e)};Be.MapStyles=function(){return[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]};var Ke,Xe=Object(H.a)(o.d)(de||(de=Object(K.a)(["\n  --padding-start: 0.5rem;\n  padding-top: 0.5rem;\n"]))),qe=H.a.div(ue||(ue=Object(K.a)(["\n  height: 300px;\n  width: 100%;\n  padding: 0.25rem 1.25rem 2rem;\n"]))),Ge=function(){var e=Object(b.g)().assetId,n=Object(b.f)(),t=Object(i.d)(We,i.b).assets,r=Object(j.useMemo)((function(){return t.flat().find((function(n){return n.id===e}))}),[t,e]),c=r.attributes,a=r.timestamp.unix,s=c,l=s.ipfsHashImageFront,d=s.title,u=s.carNumber,O=s.season,f=s.issuedLocation,p=s.issuedAddress,h=s.description;return Object(z.jsxs)(o.q,{children:[Object(z.jsx)(Ae,{title:d,buttonTopLeft:Object(z.jsx)(o.b,{onClick:function(){return n.replace("/home")},children:Object(z.jsx)(o.i,{color:"light",slot:"icon-only",icon:G.a})})}),Object(z.jsx)(o.e,{fullscreen:!0,children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(o.t,{children:[Object(z.jsx)(o.d,{className:"ion-no-padding",size:"12",children:Object(z.jsx)(Ie,{src:Ue(l)})}),Object(z.jsxs)(Xe,{className:"ion-no-padding ion-no-margin",size:"12",children:[Object(z.jsxs)(xe,{children:[Object(z.jsx)(ge,{size:"4",title:"CAR NUMBER",subtitle:u}),Object(z.jsx)(ge,{size:"4",title:"SEASON",subtitle:O}),Object(z.jsx)(ge,{size:"4",title:"COLLECTED ON",subtitle:Object(X.a)(new Date(a),"MM/dd/yyyy")})]}),Object(z.jsx)(xe,{children:Object(z.jsx)(ge,{size:"12",description:h})}),Object(z.jsx)(xe,{children:Object(z.jsx)(me,{size:"12",icon:G.j,title:f,subtitle:p})})]}),Object(z.jsx)(o.d,{size:"12",children:Object(z.jsx)(qe,{children:Object(z.jsx)(q.a,{options:{styles:Be.MapStyles()},bootstrapURLKeys:{key:"AIzaSyAzYuxD62y_TmSlgLXhfXywHrNLCsR4a40"},defaultCenter:{lat:59.95,lng:30.33},defaultZoom:11})})})]})})})]})},He=t(1129);!function(e){e.CLAIM_ASSET="@AssetClaim/CLAIM_ASSET",e.CLAIM_ASSET_SUCCESS="@AssetClaim/CLAIM_ASSET_SUCCESS",e.CLAIM_ASSET_ERROR="@AssetClaim/CLAIM_ASSET_ERROR"}(Ke||(Ke={}));var Ve,Ye,Je,$e,Qe=function(e){return{type:Ke.CLAIM_ASSET_ERROR,payload:{error:e}}},Ze=function(e){return e.assetClaim},en=function(e){return e.transaction.transactions},nn=Object(H.a)(o.d)(Ve||(Ve=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 56px);\n  overflow: hidden;\n  z-index: 3;\n  text-align: center;\n\n  &:before {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100vh;\n    height: 100vh;\n    z-index: 1;\n    background-image: url('","');\n    background-size: 100vh auto;\n    background-repeat: no-repeat;\n    background-position: 0 -70%;\n    transform: rotate(-90deg);\n  }\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 2;\n    opacity: 0.75;\n    background-color: var(--app-color-black);\n  }\n\n  > * {\n    z-index: 3;\n  }\n"])),De.src),tn=Object(He.a)(),rn=function(){var e=Object(b.g)().collectionId,n=Object(b.f)(),t=Object(i.c)(),r=Object(i.d)(Ze,i.b),c=Object(i.d)(en,i.b),a=Object(j.useMemo)((function(){return c[tn]}),[c]),s=Object(j.useCallback)((function(){return(null===r||void 0===r?void 0:r.isLoading)||(null===a||void 0===a?void 0:a.isLoading)}),[r,a]),l=Object(j.useCallback)((function(){return(null===r||void 0===r?void 0:r.isError)||(null===a||void 0===a?void 0:a.isError)}),[r,a]),d=Object(j.useCallback)((function(){return"".concat(null===r||void 0===r?void 0:r.error).concat(null===a||void 0===a?void 0:a.error)}),[r,a]),u=Object(j.useContext)(U).session.address,O=B();return Object(j.useEffect)((function(){O&&e&&u&&t(function(e,n,t){return{type:Ke.CLAIM_ASSET,payload:{collectionId:e,recipientId:n,txUuid:t}}}(e,u,tn))}),[O,t,e,u]),Object(z.jsxs)(o.q,{children:[Object(z.jsx)(Ae,{title:"Collect Cards",buttonTopLeft:Object(z.jsx)(o.b,{onClick:function(){return n.replace("/home")},children:Object(z.jsx)(o.i,{color:"light",slot:"icon-only",icon:G.a})})}),Object(z.jsx)(o.e,{fullscreen:!0,children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsx)(o.t,{children:Object(z.jsxs)(nn,{size:"12",children:[s()&&Object(z.jsx)(o.u,{color:"light"}),!s()&&l()&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(be,{color:"danger",fontSize:L.XXL,children:"Something went wrong!"}),Object(z.jsx)(be,{className:"ion-padding-top",fontSize:L.SM,color:"light",children:d})]}),!s()&&!l()&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(be,{color:"success",fontSize:L.XXL,children:"Hooray!"}),Object(z.jsx)(be,{className:"ion-padding-top",fontSize:L.L,color:"light",children:"You just received a new hero card!"})]})]})})})})]})},cn=H.a.div(Ye||(Ye=Object(K.a)(["\n  position: absolute;\n  width: 56%;\n  top: -5%;\n  right: -5%;\n"]))),an=Object(H.a)(be)(Je||(Je=Object(K.a)(["\n  position: absolute;\n  top: 15%;\n  right: 29%;\n  font-size: 0.625rem;\n"])));!function(e){e.None="none",e.Signed="signed",e.Limited="limited"}($e||($e={}));var on,sn,ln,dn,un,jn,bn,On,fn,pn,hn=function(e){switch(e){case $e.Signed:return"#8AC827";case $e.Limited:return"#FCCF45";case $e.None:default:return""}},gn=function(e){var n=e.type,t=void 0===n?$e.None:n;return t!==$e.None?Object(z.jsxs)(cn,{children:[Object(z.jsx)("svg",{viewBox:"0 0 2000 500",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(z.jsx)("rect",{x:"190",y:"0",width:"90%",height:"100%",transform:"skewX(-20)",fill:hn(t)})}),Object(z.jsxs)(an,{color:"light",className:"ion-text-uppercase",children:[t,"!"]})]}):Object(z.jsx)(z.Fragment,{})},mn=H.a.div(on||(on=Object(K.a)(["\n  position: relative;\n  overflow: visible;\n"]))),xn=Object(H.a)(ve)(sn||(sn=Object(K.a)(["\n  font-size: 0.875rem;\n  padding-bottom: 0.1rem;\n"]))),yn=Object(H.a)(ve)(ln||(ln=Object(K.a)(["\n  padding-bottom: 0.1rem;\n"]))),vn=Object(H.a)(ve)(dn||(dn=Object(K.a)(["\n  font-size: 0.625rem;\n  font-style: italic;\n  opacity: 0.5;\n  padding-bottom: 0.1rem;\n"]))),Sn=function(e){var n=e.id,t=e.title,r=e.subtitle,c=e.details,a=e.imgIpfsHash,i=e.type,o=Object(b.f)();return Object(z.jsxs)(mn,{onClick:function(){return o.push("/home/card/".concat(n))},children:[Object(z.jsx)(gn,{type:i}),Object(z.jsx)(Ie,{src:Ue(a)}),t&&Object(z.jsx)(xn,{className:"ion-no-padding ion-text-left",fontWeight:P.BOLD,children:t}),r&&Object(z.jsx)(yn,{className:"ion-no-padding",fontSize:L.SM,children:r}),c&&Object(z.jsx)(vn,{className:"ion-no-padding",children:"30/500 Cards Available"})]})},Cn=Object(H.a)(o.b)(un||(un=Object(K.a)(["\n  &::part(native) {\n  }\n\n  ","\n\n  &[size='large'] {\n    height: 4.8rem;\n    --padding-top: 1rem;\n    --padding-bottom: 1rem;\n  }\n\n  ","\n  ","\n"])),(function(e){var n=e.radius;return void 0===n||n?"--border-radius: 0.25rem;":"--border-radius: 0;"}),(function(e){var n=e.fontSize;return je.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return je.serializeFontWeight(n)})),Nn=H.a.ul(jn||(jn=Object(K.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  margin-bottom: 0;\n  list-style: none;\n"]))),Tn=H.a.li(bn||(bn=Object(K.a)(["\n  flex: 1 1 auto;\n  text-align: center;\n\n  &.center {\n    justify-content: center;\n    display: flex;\n    align-items: center;\n  }\n"]))),En=Object(H.a)(be)(On||(On=Object(K.a)(["\n  padding-top: 0.45rem;\n"]))),_n=Object(H.a)(Cn)(fn||(fn=Object(K.a)(["\n  ","\n"])),(function(e){return e.active?"\n        text-decoration: underline;\n      ":"color: var(--app-color-charade);"})),Rn=function(e){var n=e.options,t=e.defaultIndex,r=void 0===t?0:t,c=Object(j.useState)(r),a=Object(g.a)(c,2),i=a[0],o=a[1];return Object(z.jsxs)(Nn,{children:[Object(z.jsx)(Tn,{children:Object(z.jsx)(En,{fontSize:L.SM,children:"Sort by:"})}),n.map((function(e,n){var t=i===n;return Object(z.jsx)(Tn,{children:Object(z.jsx)(_n,{active:t,color:t?"danger":"",size:"small",fill:"clear",className:"ion-text-capitalize ion-no-margin",fontSize:L.SM,radius:!1,onClick:function(){return o(n)},children:e})},e)}))]})};!function(e){e.COLLECTIONS_LOAD="@Collections/COLLECTIONS_LOAD",e.COLLECTIONS_LOAD_SUCCESS="@Collections/COLLECTIONS_LOAD_SUCCESS",e.COLLECTIONS_LOAD_ERROR="@Collections/COLLECTIONS_LOAD_ERROR"}(pn||(pn={}));var kn,wn,An,In,zn=function(e){return{type:pn.COLLECTIONS_LOAD_ERROR,payload:{error:e}}},Ln=Object(H.a)(o.d)(kn||(kn=Object(K.a)(["\n  padding: 1.375rem;\n\n  &:nth-child(odd) {\n    padding-left: 0.6875rem;\n  }\n  &:nth-child(even) {\n    padding-right: 0.6875rem;\n  }\n"]))),Pn=Object(H.a)(o.f)(wn||(wn=Object(K.a)(["\n  position: fixed;\n  bottom: 0;\n"]))),Mn=Object(H.a)(o.t)(An||(An=Object(K.a)(["\n  margin-bottom: 5rem;\n"]))),Un=function(){var e=Object(b.f)(),n=Object(i.d)(We,i.b),t=n.isError,r=n.error,c=n.isLoading,a=n.assets,s=Object(i.c)(),l=Object(j.useContext)(U).session.publicKey,d=B();Object(j.useEffect)((function(){var e,n;l&&d&&s((e=l,{type:pn.COLLECTIONS_LOAD,payload:{query:n,pubKey:e}}))}),[d,s,l]);var u=Object(j.useMemo)((function(){return a.flat()}),[a]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(Mn,{children:[!c&&t&&Object(z.jsxs)(o.d,{size:"12",class:"ion-text-center ion-padding-top",children:[Object(z.jsx)(be,{color:"danger",fontSize:L.XXL,children:"Something went wrong!"}),Object(z.jsx)(be,{className:"ion-padding-top",fontSize:L.SM,color:"light",children:r})]}),!c&&!!u.length&&!t&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(o.d,{size:"12",className:"ion-margin-bottom",children:Object(z.jsx)(Rn,{options:["All","Newest","Name","Team","Race"]})}),u.map((function(e){var n=e.id,t=e.attributes,r=t.title,c=t.subtitle,a=t.ipfsHashImageFront,i=t.tags,o=Array.isArray(i)&&i.length?i[0]:$e.None;return Object(z.jsx)(Ln,{size:"6",children:Object(z.jsx)(Sn,{id:n,title:r,subtitle:c,imgIpfsHash:a,type:o})},n)}))]}),!c&&!u.length&&!t&&Object(z.jsx)(o.d,{size:"12",class:"ion-text-center",children:Object(z.jsx)(be,{className:"ion-padding-top",fontSize:L.L,color:"primary",children:"No collectables yet!"})}),c&&Object(z.jsx)(o.d,{size:"12",class:"ion-text-center ion-padding-top",children:Object(z.jsx)(o.u,{color:"primary"})})]})}),Object(z.jsx)(Pn,{className:"ion-no-border",children:Object(z.jsx)(o.y,{children:Object(z.jsx)(Cn,{color:"primary",size:"large",className:"ion-text-uppercase ion-no-margin",fontSize:L.SM,fontWeight:P.BOLD,radius:!1,expand:"block",onClick:function(){e.push("/home/scan-qr")},children:"Add new card"})})})]})};function Fn(e){var n=Object(j.useRef)();return n.current||(n.current={v:e()}),n.current.v}var Dn,Wn,Bn,Kn,Xn,qn,Gn,Hn,Vn,Yn,Jn=H.a.ul(In||(In=Object(K.a)(["\n  position: relative;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  background-color: --var(--app-dark-cyan-blue);\n\n  &:after {\n    content: ' ';\n    display: table;\n    clear: both;\n  }\n\n  > li {\n    float: left;\n    width: ","%;\n    padding-bottom: 0.25rem;\n    text-align: center;\n\n    &.slider {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 4px;\n      background-color: var(--ion-color-danger);\n      transform-origin: 0 0;\n      transition: transform 0.25s;\n    }\n\n    ","\n  }\n"])),(function(e){return(100/e.tabsLength).toFixed(2)}),(function(e){var n=e.tabsLength;return Array.from({length:n},(function(e,t){return"\n      :nth-child(".concat(t+1,").active ~ .slider {\n        transform: translateX(calc(").concat((100/n).toFixed(2),"% * ").concat(t,")) scaleX(").concat((100/n/100).toFixed(2),");\n}\n    ")})).join(" ")})),$n=Object(j.createContext)([0,function(){}]),Qn=Object(j.createContext)({tabs:0,panels:0}),Zn=function(e){var n=e.state,t=e.children,r=Object(j.useState)(0),c=Fn((function(){return{tabs:0,panels:0}})),a=n||r;return Object(z.jsx)(Qn.Provider,{value:c,children:Object(z.jsx)($n.Provider,{value:a,children:t})})},et=function(e){var n=e.children,t=Object(j.useContext)(Qn);return Object(z.jsxs)(Jn,{tabsLength:t.tabs,children:[n,Object(z.jsx)("li",{className:"slider"})]})},nt=function(e){var n=e.children,t=function(){var e=Object(j.useContext)($n),n=Object(g.a)(e,2),t=n[0],r=n[1],c=Object(j.useContext)(Qn),a=Fn((function(){var e=c.tabs;return c.tabs+=1,e})),i=Fn((function(){return function(){return r(a)}}));return Object(j.useMemo)((function(){return{isActive:t===a,onClick:i}}),[t,i,a])}();if("function"===typeof n)return n(t);var r=t.isActive;return Object(z.jsx)("li",{className:r?"active":"",children:Object(j.isValidElement)(n)?Object(j.cloneElement)(n,t):n})},tt=function(e){var n=e.active,t=e.children;return function(){var e=Object(j.useContext)($n),n=Object(g.a)(e,1)[0],t=Object(j.useContext)(Qn);return Fn((function(){var e=t.panels;return t.panels+=1,e}))===n}()||n?Object(z.jsx)(z.Fragment,{children:t}):Object(z.jsx)(z.Fragment,{})},rt=Object(H.a)(o.e)(Dn||(Dn=Object(K.a)(["\n  ","\n"])),(function(e){return e.isDarkBg&&"--background: var(--app-color-dark-cyan-blue);"})),ct=Object(H.a)(ve)(Wn||(Wn=Object(K.a)(["\n  line-height: 2rem;\n"]))),at=Object(H.a)(o.d)(Bn||(Bn=Object(K.a)(["\n  position: relative;\n  padding: 3.5rem 2.05rem 1.85rem 1.5rem;\n  overflow: hidden;\n  z-index: 2;\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    opacity: 0.5;\n    background-image: url('","');\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: 50% 0;\n  }\n\n  > * {\n    position: relative;\n    z-index: 2;\n  }\n"])),Fe.src),it=Object(H.a)(Cn)(Kn||(Kn=Object(K.a)(["\n  text-decoration: underline;\n"]))),ot=Object(H.a)(o.d)(Xn||(Xn=Object(K.a)(["\n  padding: 2.25rem;\n  background: var(--ion-color-light);\n  text-align: center;\n"]))),st=Object(H.a)(be)(qn||(qn=Object(K.a)(["\n  color: var(--app-color-gray);\n"]))),lt=Object(H.a)(Cn)(Gn||(Gn=Object(K.a)(["\n  height: 3.4375rem;\n  --padding-top: 1.625rem;\n  --padding-bottom: 1.8125rem;\n\n  &.bg-gray {\n    --background: var(--app-color-gray);\n  }\n\n  &.bg-charade {\n    --background: var(--app-color-charade);\n  }\n\n  &.bg-dark-blue-magenta {\n    --background: var(--app-color-dark-blue-magenta);\n  }\n"]))),dt=function(e){var n=e.children,t=Object(j.useContext)($n),r=Object(g.a)(t,1)[0];return Object(z.jsx)(rt,{fullscreen:!0,id:"home-content",isDarkBg:r<=0,children:n})},ut=function(){var e=Object(b.f)();return Object(z.jsx)(o.q,{children:Object(z.jsxs)(Zn,{children:[Object(z.jsx)(Ae,{children:Object(z.jsxs)(et,{children:[Object(z.jsx)(nt,{children:Object(z.jsx)(ct,{className:"ion-text-uppercase ion-text-center",fontSize:L.XS,color:"light",children:"Home"})}),Object(z.jsx)(nt,{children:Object(z.jsx)(ct,{className:"ion-text-uppercase ion-text-center",fontSize:L.XS,color:"light",children:"Collectables"})})]})}),Object(z.jsxs)(dt,{children:[Object(z.jsx)(tt,{children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(o.t,{children:[Object(z.jsxs)(at,{size:"12",children:[Object(z.jsx)(ye,{color:"light",fontSize:L.L,fontWeight:P.BOLD,children:"Collecting Digital Hero Cards Is Easy!"}),Object(z.jsx)("br",{}),Object(z.jsx)(be,{className:"ion-margin-vertical",color:"light",fontSize:L.XS,children:"Now you can find your favourite cards via the official NASCAR app, and digitally collect them! You can also scan QR codes at races, or buy cards at the market place."}),Object(z.jsx)("br",{}),Object(z.jsx)(it,{className:"ion-float-right",color:"light",fill:"clear",fontSize:L.SM,fontWeight:P.BOLD,children:"Start collecting"})]}),Object(z.jsx)(ot,{children:Object(z.jsxs)(st,{fontSize:L.L,fontWeight:P.BOLD,children:["Gentlemen,",Object(z.jsx)("br",{}),"start your engines\u2026"]})}),Object(z.jsxs)(o.d,{size:"12",children:[Object(z.jsx)(lt,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-gray",fontSize:L.SM,fontWeight:P.BOLD,onClick:function(){return e.push("/home/scan-qr")},children:"Add new card"}),Object(z.jsx)(lt,{expand:"block",className:"ion-text-uppercase ion-no-margin bg-dark-blue-magenta",fontSize:L.SM,fontWeight:P.BOLD,onClick:function(){return e.push("/home/scan-qr")},children:"Scan qr code"})]})]})})}),Object(z.jsx)(tt,{children:Object(z.jsx)(Un,{})})]})]})})},jt=t(64),bt="undefined"!==typeof window,Ot=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(j.useState)(bt?function(){return window.matchMedia(e).matches}:n),r=Object(g.a)(t,2),c=r[0],a=r[1];return Object(j.useEffect)((function(){var n=!0,t=window.matchMedia(e),r=function(){n&&a(t.matches)};return t.addEventListener("change",r),a(t.matches),function(){n=!1,t.removeEventListener("change",r)}}),[e]),c},ft=Array.from({length:9}),pt=function(e){var n=e.children,t=e.onClick,r=e.fontSize,c=void 0===r?L.L:r,a=e.size,i=void 0===a?"large":a,o=e.disabled,s=void 0!==o&&o;return Object(z.jsx)(Cn,{type:"button",size:i,expand:"block",fill:"clear",color:"light",fontSize:c,onClick:function(e){e.preventDefault(),t(e)},disabled:s,children:n})},ht=function(e){var n=e.onChange,t=e.onEnter,r=Object(j.useState)(""),c=Object(g.a)(r,2),a=c[0],i=c[1],s=Ot("(min-height: 600px)"),l=Ot("(min-height: 700px)"),d=Object(j.useCallback)((function(){return 4>a.length}),[a]),u=Object(j.useCallback)((function(e){d()&&i((function(n){return"".concat(n).concat(e)}))}),[i,d]),b=Object(j.useCallback)((function(){i((function(e){return e.length?e.slice(0,-1):""}))}),[i]);Object(j.useEffect)((function(){n(a)}),[a,n]);var O=Object(j.useCallback)((function(){return!l&&s?"ion-padding-vertical":""}),[l,s]);return Object(z.jsxs)(z.Fragment,{children:[ft.map((function(e,n){var t=(n+1).toString();return Object(z.jsx)(o.d,{size:"4",className:O(),children:Object(z.jsx)(pt,{size:l?"large":"default",disabled:!d(),onClick:function(){return u(t)},children:t})},n)})),Object(z.jsx)(o.d,{size:"4",offset:"4",className:O(),children:Object(z.jsx)(pt,{size:l?"large":"default",disabled:!d(),onClick:function(){return u("0")},children:"0"})}),Object(z.jsx)(o.d,{size:"4",offset:"1",children:Object(z.jsx)(pt,{size:"default",fontSize:L.SM,onClick:b,children:"Delete"})}),Object(z.jsx)(o.d,{size:"4",offset:"2",children:Object(z.jsx)(pt,{size:"default",fontSize:L.SM,onClick:t,children:"Enter"})})]})},gt=t(456),mt=Object(H.a)((function(e){return Object(z.jsx)(gt.a,Object(s.a)({render:function(e){var n=e.message;return Object(z.jsx)(be,{className:"ion-padding-top",fontSize:L.SM,color:"danger",children:n})}},e))}))(Hn||(Hn=Object(K.a)(["\n  ","\n  ","\n"])),(function(e){var n=e.fontSize;return je.serializeFontSize(n)}),(function(e){var n=e.fontWeight;return je.serializeFontWeight(n)})),xt=Object(H.a)(o.j)(Vn||(Vn=Object(K.a)(["\n  &::part(input) {\n  }\n\n  --color: var(--ion-color-light);\n  --placeholder-color: var(--ion-color-light);\n  --background: var(--app-color-charade);\n  --padding-start: 1.375rem;\n  --padding-end: 1.375rem;\n  --padding-top: 1.1875rem;\n  --padding-bottom: 1.1875rem;\n\n  border: 1px solid var(--ion-color-light);\n\n  ","\n\n  &.form-input- {\n    &prefix-username {\n      &:before {\n        content: '@';\n        position: absolute;\n        left: 0.65rem;\n      }\n    }\n\n    &transparent {\n      --padding-start: 0.5rem;\n      --padding-end: 0.5rem;\n\n      --placeholder-color: transparent;\n      --background: transparent;\n\n      border: none;\n\n      &.has-focus {\n        border-bottom: 1px solid var(--ion-color-light);\n      }\n    }\n  }\n\n  ","\n"])),(function(e){var n=e.fontSize;return je.serializeFontSize(n)}),(function(){return Array.from({length:12},(function(e,n){return"\n      &.form-input-prefix-number-".concat(n+1," {\n      width: ").concat(n+1>=10?"calc(100% - 2.5ch)":"calc(100% - 1.5ch)",";\n      margin-left: ").concat(n+1>=10?"2ch":"1ch",";\n      \n      &:before {\n        content: '").concat(n+1,"';\n        position: absolute;\n        left: -").concat(n+1>=10?"2ch":"1ch",";\n      }\n    }\n    ")})).join(" ")}));!function(e){e.SET_BASE_URL="@App/SET_BASE_URL",e.SET_ENCODED_USER_PRIVATE_KEY="@App/SET_ENCODED_USER_PRIVATE_KEY"}(Yn||(Yn={}));var yt,vt=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Yn.SET_ENCODED_USER_PRIVATE_KEY,payload:{userPrivateKey:e,saveToStorage:n}}};!function(e){e.NAMESPACE_REGISTER="@Namespace/NAMESPACE_REGISTER"}(yt||(yt={}));var St,Ct,Nt=t(135),Tt=function(){function e(){Object(E.a)(this,e)}return Object(_.a)(e,null,[{key:"isValidPassphrase",value:function(e){return Nt.validateMnemonic(e)}},{key:"generatePassphrase",value:function(){return Nt.generateMnemonic(void 0,void 0,Nt.wordlists.english)}},{key:"getWalletNextNonce",value:function(e){return e?N.Utils.BigNumber.make(e.nonce).plus(1).toFixed():N.Utils.BigNumber.ONE.toFixed()}}]),e}(),Et={},_t=Object(j.createContext)({}),Rt=function(e){var n=e.children,t=Object(j.useState)(Object(s.a)({},Et)),r=Object(g.a)(t,2),c=r[0],a=r[1],o=Object(i.c)(),l=Object(j.useContext)(U).setPin,d=Object(j.useCallback)((function(){a(Object(s.a)({},Et))}),[a]),u=Object(j.useCallback)((function(e){a((function(n){return Object(s.a)(Object(s.a)({},n),{},{username:e})}))}),[a]),b=Object(j.useCallback)((function(e){a((function(n){return Object(s.a)(Object(s.a)({},n),{},{passphrase:e})}))}),[a]),O=Object(j.useCallback)((function(e){var n=c.passphrase||Tt.generatePassphrase(),t=JSON.stringify({passphrase:n}),r=A.encode(t,A.hash(e));o(vt(r)),l(e),c.username&&o(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(He.a)();return{type:yt.NAMESPACE_REGISTER,payload:{txUuid:t,name:e,passphrase:n}}}(c.username,n)),d()}),[c,l,o,d]),f={state:c,setUsername:u,setPin:O,setPassphrase:b,reset:d};return Object(z.jsx)(_t.Provider,{value:f,children:n})},kt=Object(H.a)(o.e)(St||(St=Object(K.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: flex-end;\n    height: 100vh;\n    padding-bottom: 2rem;\n  }\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n\n  .form-input-pin {\n    width: 80%;\n    --padding-start: 2.375rem;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    letter-spacing: 1rem;\n  }\n"])));!function(e){e[e.Passcode=0]="Passcode",e[e.ConfirmPasscode=1]="ConfirmPasscode"}(Ct||(Ct={}));var wt,At,It,zt,Lt,Pt,Mt,Ut=function(e){var n=e.withConfirm,t=void 0!==n&&n,r=Object(b.f)(),c=Object(j.useContext)(U),a=c.session,i=c.setPin,s=Object(j.useContext)(_t).setPin,l=a.state,d=Object(j.useState)(Ct.Passcode),u=Object(g.a)(d,2),O=u[0],f=u[1],p=Object(jt.c)({defaultValues:{passcode:"",confirmPasscode:""},mode:"onSubmit"}),h=p.control,m=p.handleSubmit,x=p.errors,v=p.watch,S=p.register,C=p.clearErrors,N=v(),T=N.passcode,E=N.confirmPasscode;Object(j.useEffect)((function(){a&&!a.error&&a.state===y.LoggedIn&&r.replace("/home")}),[a,r]);var _=Object(j.useCallback)((function(e){var n=e.passcode;t&&O===Ct.Passcode?(S("confirmPasscode",{required:"Passcode is required!",pattern:{value:/^[0-9]{4}$/,message:"Passcode should be 4-digit number"},validate:function(e){return e===n||"Passcodes do not match"}}),f(Ct.ConfirmPasscode),C(["passcode","confirmPasscode"])):t?s(n):i(n)}),[s,S,t,C,O,i]),R=Object(j.useCallback)((function(){if(!t)return"Safety First!";switch(O){case Ct.ConfirmPasscode:return"Confirm your passcode";case Ct.Passcode:default:return"Create your passcode"}}),[O,t]),k=Object(j.useCallback)((function(){if(!t)return Object(z.jsxs)(z.Fragment,{children:["Insert your ",Object(z.jsx)("b",{children:"passcode, that you chose"})," when creating your account! Don\u2019t forget to store it somewhere safe, since we are unable to restore any lost passcodes! Learn more"]});switch(O){case Ct.ConfirmPasscode:return Object(z.jsxs)(z.Fragment,{children:["Please ",Object(z.jsx)("b",{children:"confirm"})," your ",Object(z.jsx)("b",{children:"passcode"}),". Don\u2019t forget to store it somewhere safe, since we are unable to restore any lost passcodes!"]});case Ct.Passcode:default:return Object(z.jsxs)(z.Fragment,{children:["Create your ",Object(z.jsx)("b",{children:"passcode"}),". Make sure that you\xa0",Object(z.jsx)("b",{children:"Store it somewhere safely"}),", since we are unable to restore any lost passcodes!"]})}}),[O,t]);return Object(z.jsx)(o.q,{children:Object(z.jsx)(kt,{fullscreen:!0,children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(o.t,{children:[Object(z.jsxs)(o.d,{size:"12",children:[Object(z.jsx)(be,{className:"ion-margin-bottom",fontSize:L.XL,color:"light",fontWeight:P.BOLD,children:R()}),Object(z.jsx)(be,{className:"ion-margin-top",fontSize:L.SM,color:"light",children:k()})]}),Object(z.jsx)(o.d,{size:"8",offset:"2",children:Object(z.jsxs)("form",{onSubmit:m(_),children:[Object(z.jsx)(jt.a,{render:function(e){var n=e.onChange;return Object(z.jsxs)(o.t,{hidden:O!==Ct.Passcode,children:[Object(z.jsx)(o.d,{size:"12",children:Object(z.jsx)(xt,{type:"password",value:T,className:"form-input-pin",fontSize:L.L,readonly:!0})}),Object(z.jsx)(ht,{onChange:n,onEnter:m(_)})]})},control:h,name:"passcode",rules:{required:"Passcode is required!",pattern:{value:/^[0-9]{4}$/,message:"Passcode should be 4-digit number"}}}),Object(z.jsx)(jt.a,{render:function(e){var n=e.onChange;return Object(z.jsxs)(o.t,{hidden:O!==Ct.ConfirmPasscode,children:[Object(z.jsx)(o.d,{size:"12",children:Object(z.jsx)(xt,{type:"password",value:E,className:"form-input-pin",fontSize:L.L,readonly:!0})}),Object(z.jsx)(ht,{onChange:n,onEnter:m(_)})]})},control:h,name:"confirmPasscode"}),Object(z.jsxs)("div",{className:"ion-text-center",children:[Object(z.jsx)(mt,{errors:x,name:"passcode"}),Object(z.jsx)(mt,{errors:x,name:"confirmPasscode"}),l===y.Error&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("br",{}),Object(z.jsx)(be,{className:"ion-padding-top",fontSize:L.SM,color:"danger",children:"Invalid PIN!"})]})]})]})})]})})})})},Ft=t(22),Dt=0,Wt=function(){function e(){Object(E.a)(this,e)}return Object(_.a)(e,null,[{key:"uniqueId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Dt+=1,e.toString()+Dt}},{key:"wait",value:function(e){return new Promise((function(n){return setTimeout(n,e)}))}}]),e}(),Bt=function(e){var n=e.onChange,t=Object(j.useState)(Array.from({length:12},(function(){return""}))),r=Object(g.a)(t,2),c=r[0],a=r[1],i=Object(j.useState)([]),s=Object(g.a)(i,2),l=s[0],b=s[1];Object(j.useEffect)((function(){b((function(e){return Array.from({length:12},(function(n,t){return e[t]||Object(j.createRef)()}))}))}),[]),Object(j.useEffect)((function(){n(c.map((function(e){return e.trim()})).join(" ").toLowerCase())}),[c,n]),Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wt.wait(250);case 4:return e.next=6,n.setFocus();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if(l.length){var n=Object(g.a)(l,1)[0];n&&e(n.current)}}),[l]);var O=Object(j.useCallback)((function(e,n){a((function(t){return[].concat(Object(Ft.a)(t.slice(0,n)),[e],Object(Ft.a)(t.slice(n+1)))}))}),[a]),f=Object(j.useCallback)((function(e){var n=function(){navigator.clipboard.readText().then((function(e){var n=e.split(" ");a([].concat(Object(Ft.a)(n),Object(Ft.a)(Array.from({length:12},(function(){return""})))).slice(0,12))})).catch((function(e){console.warn("Reading contents from clipboard failed: ",e)}))},t=String.fromCharCode(e.which).toLowerCase();e.ctrlKey&&"v"===t&&n(),e.metaKey&&"v"===t&&n()}),[a]);return Object(z.jsx)(z.Fragment,{children:c.map((function(e,n){return Object(z.jsx)(o.d,{size:"3",children:Object(z.jsx)(xt,{className:"form-input-transparent form-input-prefix-number-".concat(n+1),"data-number":n+1,type:"text",fontSize:L.SM,value:e,onKeyDown:f,onIonChange:function(e){var t=e.detail.value;return O(t,n)},ref:l[n]})},n)}))})},Kt=Object(H.a)(o.e)(wt||(wt=Object(K.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: center;\n    height: 100vh;\n  }\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n"]))),Xt=H.a.div(At||(At=Object(K.a)(["\n  border-radius: 0.25rem;\n  background-color: var(--app-color-gray);\n"]))),qt=function(){var e=Object(b.f)(),n=Object(j.useContext)(_t).setPassphrase,t=Object(jt.c)({defaultValues:{passphrase:""},mode:"onSubmit"}),r=t.control,c=t.handleSubmit,a=t.errors,i=Object(j.useCallback)((function(t){var r=t.passphrase;n(r),e.push("/register/passcode")}),[n,e]);return Object(z.jsx)(o.q,{children:Object(z.jsx)(Kt,{fullscreen:!0,children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(o.t,{children:[Object(z.jsxs)(o.d,{size:"12",children:[Object(z.jsx)(be,{className:"ion-margin-bottom",fontSize:L.XL,color:"light",fontWeight:P.BOLD,children:"Sign in with your recovery phrase"}),Object(z.jsxs)(be,{className:"ion-margin-top",fontSize:L.SM,color:"light",children:["Restore your account with the ",Object(z.jsx)("b",{children:"12 word phrase"}),", that you were given when you created your account. ",Object(z.jsx)("b",{children:"Make sure"})," that they are in the correct order!"]})]}),Object(z.jsx)(o.d,{size:"12",className:"ion-padding",children:Object(z.jsx)(Xt,{className:"ion-padding",children:Object(z.jsx)("form",{onSubmit:c(i),children:Object(z.jsx)(jt.a,{render:function(e){var n=e.onChange;return Object(z.jsx)(o.t,{children:Object(z.jsx)(Bt,{onChange:n})})},control:r,name:"passphrase",rules:{required:"Passphrase is required!",pattern:{value:/^(\w+\s){11}(\w+)$/,message:"Passphrase should be 12 words long. Fill out remaining fields!"},validate:function(e){return Tt.isValidPassphrase(e)||"Invalid passphrase!"}}})})})}),Object(z.jsx)(o.d,{size:"12",className:"ion-padding-horizontal",children:Object(z.jsx)(mt,{errors:a,name:"passphrase"})}),Object(z.jsx)(o.d,{className:"ion-padding-horizontal",size:"12",children:Object(z.jsx)(Cn,{size:"large",expand:"block",className:"ion-text-uppercase ion-no-margin ion-margin-top",color:"tertiary",fontSize:L.SM,fontWeight:P.BOLD,onClick:c(i),children:"Restore wallet"})}),Object(z.jsx)(o.d,{className:"ion-padding-horizontal",size:"12",children:Object(z.jsx)(Cn,{size:"large",expand:"block",fill:"clear",className:"ion-text-capitalize ion-no-margin",color:"light",fontSize:L.SM,onClick:function(){return e.replace("/welcome")},children:"Back"})})]})})})})},Gt=t(457),Ht=t.n(Gt),Vt=Object(H.a)(o.e)(It||(It=Object(K.a)(["\n  position: relative;\n"]))),Yt=Object(H.a)(Ht.a)(zt||(zt=Object(K.a)(["\n  position: absolute;\n  left: calc(50% - ","px);\n  top: calc(50% - ","px);\n"])),128,128),Jt=function(){var e=Object(b.g)().id;return Object(z.jsx)(o.q,{children:Object(z.jsx)(Vt,{children:e&&Object(z.jsx)(Yt,{renderAs:"svg",size:256,value:e})})})},$t=t(136),Qt=Object(H.a)(o.e)(Lt||(Lt=Object(K.a)(["\n  opacity: 0;\n"]))),Zt=function(){var e=Object(b.f)();return Object(j.useEffect)((function(){var n;return function(){var t=Object(u.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$t.a.prepare();case 3:if(!(r=t.sent).authorized){t.next=11;break}return t.next=7,$t.a.show();case 7:window.document.querySelector("ion-app").classList.add("camera-view"),n=$t.a.scan().subscribe((function(n){e.replace("/home/collect-card/".concat(n))})),t.next=12;break;case 11:r.denied;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}()(),function(){n&&n.unsubscribe(),window.document.querySelector("ion-app").classList.remove("camera-view"),$t.a.hide(),$t.a.destroy()}}),[e]),Object(z.jsxs)(o.q,{children:[Object(z.jsx)(Ae,{title:"Collect Cards",contentId:"collect-card-content"}),Object(z.jsx)(Qt,{fullscreen:!0,id:"collect-card-content"})]})},er=Object(H.a)(o.e)(Pt||(Pt=Object(K.a)(["\n  --background: var(--app-color-charade);\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        height: 40vh;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n"]))),nr=function(){var e=Object(b.f)(),n=Object(j.useContext)(_t).setUsername,t=Object(jt.c)({defaultValues:{username:""},mode:"onChange"}),r=t.formState,c=t.control,a=t.handleSubmit,i=t.errors,s=Object(j.useCallback)((function(t){var c=t.username;r.isValid&&(n(c),e.push("/register/passcode"))}),[r.isValid,n,e]);return Object(z.jsx)(o.q,{children:Object(z.jsx)(er,{fullscreen:!0,children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(o.t,{children:[Object(z.jsxs)(o.d,{size:"12",children:[Object(z.jsx)(be,{className:"ion-margin-bottom",fontSize:L.XL,color:"light",fontWeight:P.BOLD,children:"Pick your username"}),Object(z.jsx)(be,{className:"ion-margin-top",fontSize:L.SM,color:"light",children:"Collecting digital hero cards is easy! Make it even easier for other collectors to find you, and star collecting your favourite cards!"})]}),Object(z.jsx)(o.d,{size:"12",className:"ion-padding",children:Object(z.jsxs)("form",{onSubmit:a(s),children:[Object(z.jsx)(jt.a,{render:function(e){var n=e.onChange;return Object(z.jsx)(xt,{type:"text",className:"form-input-prefix-username ion-margin-bottom",fontSize:L.SM,placeholder:"Pick username...",onIonChange:function(e){var t=e.detail.value;return n(t)}})},control:c,name:"username",rules:{required:"Username is required!"}}),Object(z.jsx)(mt,{errors:i,name:"username"}),Object(z.jsx)(Cn,{type:"submit",size:"large",expand:"block",className:"ion-text-uppercase ion-no-margin ion-margin-top",color:"tertiary",fontSize:L.SM,fontWeight:P.BOLD,disabled:!r.isValid,children:"Register username"})]})})]})})})})},tr=Object(H.a)(o.e)(Mt||(Mt=Object(K.a)(["\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: flex-end;\n    height: 100vh;\n    padding-bottom: 2rem;\n  }\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding-bottom: 1rem;\n      }\n\n      &:nth-child(2) {\n        overflow: hidden;\n        margin-bottom: 1rem;\n        max-height: 25vh;\n      }\n\n      &:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 100vw;\n        padding-bottom: 0.5rem;\n      }\n    }\n  }\n\n  @media screen and (min-height: 600px) {\n    ion-row {\n      ion-col {\n        &:nth-child(1) {\n          padding-bottom: 2rem;\n        }\n\n        &:nth-child(2) {\n          margin-bottom: 2rem;\n        }\n\n        &:nth-child(3) {\n          padding-bottom: 1rem;\n        }\n      }\n    }\n  }\n"]))),rr=function(){return Object(z.jsx)(o.q,{children:Object(z.jsx)(tr,{fullscreen:!0,children:Object(z.jsx)(o.g,{className:"ion-no-padding",children:Object(z.jsxs)(o.t,{children:[Object(z.jsxs)(o.d,{size:"12",children:[Object(z.jsx)(be,{className:"ion-text-uppercase",fontSize:L.XXL,color:"light",fontWeight:P.BOLD,children:"Nascar"}),Object(z.jsx)(be,{className:"ion-text-capitalize",fontSize:L.XL,color:"light",fontWeight:P.BOLD,children:"Digital Hero Cards"})]}),Object(z.jsx)(o.d,{className:"ion-no-padding",size:"12",children:Object(z.jsx)(Ie,Object(s.a)({},Fe))}),Object(z.jsxs)(o.d,{size:"12",children:[Object(z.jsx)(Cn,{size:"large",expand:"block",className:"ion-text-uppercase ion-margin",fontSize:L.SM,fontWeight:P.BOLD,routerLink:"/login/passphrase",children:"Existing user"}),Object(z.jsx)(Cn,{size:"large",expand:"block",className:"ion-text-uppercase ion-margin",color:"tertiary",fontSize:L.SM,fontWeight:P.BOLD,routerLink:"/register/username",children:"Create account"})]}),Object(z.jsx)(o.d,{size:"12",className:"ion-text-center",children:Object(z.jsx)(be,{fontSize:L.XXS,color:"light",children:"\xa9 Protokol, 2021"})})]})})})})},cr=(t(967),t(968),t(969),t(970),t(971),t(972),t(973),t(974),t(975),t(976),t(977),t(978),t(979),O.a.SplashScreen),ar=function(){var e=Object(i.c)(),n=B();return Object(j.useEffect)((function(){var t,r=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.lock(f.a.ORIENTATIONS.PORTRAIT_PRIMARY);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&(Object(o.H)("capacitor")&&(r(),cr.hide()),e((t="https://explorer.protokol.sh",{type:Yn.SET_BASE_URL,payload:{baseUrl:t}})))}),[n,e]),Object(z.jsx)(o.a,{children:Object(z.jsx)(D,{children:Object(z.jsx)(Rt,{children:Object(z.jsx)(p.a,{children:Object(z.jsxs)(b.d,{children:[Object(z.jsx)(b.b,{path:"/qr/:id",component:Jt,exact:!0}),Object(z.jsx)(b.b,{path:"/welcome",component:rr,exact:!0}),Object(z.jsx)(b.b,{path:"/login/passphrase",component:qt,exact:!0}),Object(z.jsx)(b.b,{path:"/register/username",component:nr,exact:!0}),Object(z.jsx)(b.b,{path:"/register/passcode",exact:!0,render:function(e){return Object(z.jsx)(Ut,Object(s.a)({withConfirm:!0},e))}}),Object(z.jsx)(b.b,{path:"/passcode",exact:!0,render:function(e){return Object(z.jsx)(Ut,Object(s.a)({withConfirm:!1},e))}}),Object(z.jsx)(b.a,{path:"/",exact:!0,to:"/home"}),Object(z.jsxs)(o.s,{children:[Object(z.jsx)(W,{path:"/home",component:ut,exact:!0}),Object(z.jsx)(W,{requiresCordova:!0,path:"/home/scan-qr",component:Zt,exact:!0}),Object(z.jsx)(W,{path:"/home/card/:assetId",component:Ge,exact:!0}),Object(z.jsx)(W,{path:"/home/collect-card/:collectionId",component:rn,exact:!0})]})]})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ir,or=t(101),sr=t(1127),lr=t(1125),dr=t(458),ur=t(459),jr=t(1130),br=t(83),Or=t(1115),fr=t(1132),pr=t(1116),hr=t(1128),gr=t(1117),mr=[function(e,n,t){var c=t.storage;return e.pipe(Object(dr.a)(Yn.SET_ENCODED_USER_PRIVATE_KEY),Object(jr.a)(n.pipe(Object(br.a)(S),Object(Or.a)())),Object(fr.a)((function(e){var n=Object(g.a)(e,2),t=n[0].payload,a=n[1];t.saveToStorage&&c.set(r.STORAGE_PK_KEY,a)})),Object(pr.a)())},function(e,n,t){var c=t.storage;return e.pipe(Object(hr.a)(),Object(gr.a)((function(){var e=c.get(r.STORAGE_PK_KEY);return e?Object(ur.a)(vt(e,!1)):Object(ur.a)(vt(null,!1))})))}],xr=t(1065),yr=t(1118),vr=t(1119);!function(e){e.TRANSACTION_WAIT_FOR_CONFIRM="@Transaction/TRANSACTION_WAIT_FOR_CONFIRM",e.TRANSACTION_CONFIRM_SUCCESS="@Transaction/TRANSACTION_CONFIRM_SUCCESS",e.TRANSACTION_CONFIRM_ERROR="@Transaction/TRANSACTION_CONFIRM_ERROR",e.TRANSACTION_SUBMIT="@Transaction/TRANSACTION_SUBMIT"}(ir||(ir={}));var Sr,Cr=function(e,n){return{type:ir.TRANSACTION_WAIT_FOR_CONFIRM,payload:{txUuid:e,txId:n}}},Nr=[function(e,n){return e.ofType(Ke.CLAIM_ASSET).pipe(Object(jr.a)(n.pipe(Object(br.a)(v))),Object(gr.a)((function(e){var n=Object(g.a)(e,2),t=n[0],r=n[1],c=t.payload,a=c.collectionId,i=c.recipientId,o=c.txUuid;return Object(yr.a)("".concat(r,"/api/nft/assets/claim"),{headers:{"Content-Type":"application/json"},selector:function(e){return e.json()},method:"POST",body:JSON.stringify({collectionId:a,recipientId:i})}).pipe(Object(gr.a)((function(e){var n,t=e.data,r=e.errors,c=Object(g.a)(t.accept,1)[0];if(c)return Object(xr.a)(Object(ur.a)((n=c,{type:Ke.CLAIM_ASSET_SUCCESS,payload:{txId:n}})),Object(ur.a)(Cr(o,c)));var a=r[Object(g.a)(t.invalid,1)[0]].message;return Object(ur.a)(Qe(a))})),Object(vr.a)((function(e){return Object(ur.a)(Qe(e))})))})))}],Tr=t(1120),Er=[function(e,n,t){var r=t.connection;return e.ofType(pn.COLLECTIONS_LOAD).pipe(Object(jr.a)(n.pipe(Object(br.a)(v))),Object(gr.a)((function(e){var n=Object(g.a)(e,2),t=n[0],c=n[1],a=t.payload,i=a.pubKey,o=a.query;return Object(Tr.a)((function(){return r(c).NFTBaseApi("assets").walletAssets(i,o)})).pipe(Object(br.a)((function(e){var n=e.body,t=n.data,r=n.errors;return r?zn(r):function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:pn.COLLECTIONS_LOAD_SUCCESS,payload:{query:e,assets:n,isLastPage:t}}}(null!==o&&void 0!==o?o:{page:1,limit:100},t,0===t.length)})),Object(vr.a)((function(e){return Object(ur.a)(zn(e))})))})))}],_r=t(461),Rr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new _r.ProtokolConnection("".concat(e,"/api")).withOptions({timeout:n})},kr=[function(e,n){return e.ofType(yt.NAMESPACE_REGISTER).pipe(Object(jr.a)(n.pipe(Object(br.a)(v))),Object(gr.a)((function(e){var n=Object(g.a)(e,2),t=n[0],r=n[1],c=t.payload,a=c.name,i=c.txUuid,o=c.passphrase;return function(e,n){return Object(Tr.a)((function(){return Rr(e).api("wallets").get(n)})).pipe(Object(br.a)((function(e){var n;return null===e||void 0===e||null===(n=e.body)||void 0===n?void 0:n.data})),Object(vr.a)((function(e){return console.warn(e),Object(ur.a)(void 0)})))}(r,N.Identities.PublicKey.fromPassphrase(o)).pipe(Object(br.a)((function(e){var n=(new T.Builders.NameserviceBuilder).Nameservice({name:a}).nonce(Tt.getWalletNextNonce(e)).sign(o);return function(e,n){return{type:ir.TRANSACTION_SUBMIT,payload:{txUuid:e,transactions:n}}}(i,{transactions:[n.getStruct()]})})))})))}],wr=t(1121),Ar=t(267);!function(e){e.LOAD_NETWORK_CONFIGURATION="@Network/LOAD_NETWORK_CONFIGURATION",e.NETWORK_CONFIGURATION_SUCCESS="@Network/NETWORK_CONFIGURATION_SUCCESS",e.NETWORK_CONFIGURATION_ERROR="@Network/NETWORK_CONFIGURATION_ERROR"}(Sr||(Sr={}));var Ir=function(e){return{type:Sr.LOAD_NETWORK_CONFIGURATION,payload:{baseUrl:e}}},zr=[function(e){return e.ofType(Sr.NETWORK_CONFIGURATION_SUCCESS).pipe(Object(fr.a)((function(e){var n=e.payload,t=n.nodeCryptoConfiguration,r=n.height,c=t.network,a=t.exceptions,i=t.milestones;N.Managers.configManager.setConfig({network:c,milestones:i,genesisBlock:N.Managers.configManager.getPreset("devnet").genesisBlock,exceptions:a}),N.Managers.configManager.setHeight(r),N.Transactions.TransactionRegistry.registerTransactionType(T.Transactions.NameserviceTransaction)})),Object(pr.a)())},function(e,n,t){var r=t.connection;return e.ofType(Sr.LOAD_NETWORK_CONFIGURATION).pipe(Object(jr.a)(n.pipe(Object(br.a)(v))),Object(gr.a)((function(e){var n=Object(g.a)(e,2),t=n[0],c=n[1],a=t.payload;return Object(wr.a)([Object(Tr.a)((function(){return r(a.baseUrl||c).api("node").crypto()})),Object(Tr.a)((function(){return r(a.baseUrl||c).api("blocks").last()}))]).pipe(Object(br.a)((function(e){var n,t,r,c,a,i=Object(g.a)(e,2),o=i[0],s=i[1];return c=null===o||void 0===o||null===(n=o.body)||void 0===n?void 0:n.data,a=null===s||void 0===s||null===(t=s.body)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.height,{type:Sr.NETWORK_CONFIGURATION_SUCCESS,payload:{nodeCryptoConfiguration:c,height:a}}})),Object(vr.a)((function(e){return Object(ur.a)((n=e,{type:Sr.NETWORK_CONFIGURATION_ERROR,payload:{error:n}}));var n})))})))},function(e,n){return n.pipe(Object(br.a)(v),Object(Or.a)(),Object(Ar.a)((function(e){return!!e})),Object(br.a)(Ir))}],Lr=t(462),Pr=t.n(Lr),Mr=t(1131),Ur=t(1122),Fr=t(463),Dr=t(128),Wr=t(1123),Br=t(1133),Kr=t(1124),Xr=[function(e,n,t){var r=t.connection;return e.ofType(ir.TRANSACTION_WAIT_FOR_CONFIRM).pipe(Object(jr.a)(n.pipe(Object(br.a)(v))),Object(gr.a)((function(e){var n=Object(g.a)(e,2),t=n[0],c=n[1],a=new Mr.a,i=t.payload,o=i.txId,s=i.txUuid;return Object(Ur.a)(0,4e3).pipe(Object(Wr.a)(a),Object(Br.a)(Pr()(Date.now(),80),Object(Fr.a)("Transaction/s have not been confirmed within 10 blocks time!")),Object(Kr.a)((function(){return Object(Tr.a)((function(){return r(c).api("transactions").get(o)})).pipe(Object(vr.a)((function(){return Object(ur.a)({body:{data:void 0}})})),Object(gr.a)((function(e){return e.body.data?(a.next(),a.complete(),Object(ur.a)(function(e){return{type:ir.TRANSACTION_CONFIRM_SUCCESS,payload:{txUuid:e}}}(s))):Dr.a.pipe(Object(pr.a)())})))})),Object(vr.a)((function(e){return Object(ur.a)(function(e,n){return{type:ir.TRANSACTION_CONFIRM_ERROR,payload:{txUuid:e,error:n}}}(s,e))})))})))},function(e,n,t){var r=t.connection;return e.ofType(ir.TRANSACTION_SUBMIT).pipe(Object(jr.a)(n.pipe(Object(br.a)(v))),Object(gr.a)((function(e){var n=Object(g.a)(e,2),t=n[0],c=n[1],a=t.payload,i=a.transactions,o=a.txUuid;return Object(Tr.a)((function(){return r(c).api("transactions").create(i)})).pipe(Object(gr.a)((function(e){var n=e.body,t=n.data,r=n.errors,c=Object(g.a)(t.accept,1)[0];if(c)return Object(ur.a)(Cr(o,c));var a=r[Object(g.a)(t.invalid,1)[0]].message;return Object(ur.a)(Qe(a))})),Object(vr.a)((function(e){return Object(ur.a)(Qe(e))})))})))}],qr=lr.a.apply(void 0,Object(Ft.a)(mr).concat(Object(Ft.a)(zr),Object(Ft.a)(Nr),Object(Ft.a)(Xr),Object(Ft.a)(kr),Object(Ft.a)(Er))),Gr={baseUrl:void 0,userPrivateKey:void 0},Hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case Yn.SET_BASE_URL:var r=n.payload.baseUrl;return Object(s.a)(Object(s.a)({},e),{},{baseUrl:r});case Yn.SET_ENCODED_USER_PRIVATE_KEY:var c=n.payload.userPrivateKey;return Object(s.a)(Object(s.a)({},e),{},{userPrivateKey:c});default:return e}},Vr={isLoading:!1,isError:!1},Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case Ke.CLAIM_ASSET:return Object(s.a)(Object(s.a)({},Vr),{},{isLoading:!0});case Ke.CLAIM_ASSET_SUCCESS:var r=n.payload.txId;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!1,txId:r});case Ke.CLAIM_ASSET_ERROR:var c=n.payload.error;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!0,error:c});default:return e}},Jr={isLastPage:!1,isLoading:!1,isError:!1,assets:[]},$r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case pn.COLLECTIONS_LOAD:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case pn.COLLECTIONS_LOAD_SUCCESS:var r=n,c=r.payload,a=c.assets,i=c.query,o=c.isLastPage,l=i.page,d=l-1;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,query:i,assets:[].concat(Object(Ft.a)(e.assets.slice(0,d)),[a],Object(Ft.a)(e.assets.slice(d+1))),isLastPage:o,isError:!1,error:void 0});case pn.COLLECTIONS_LOAD_ERROR:var u=n.payload.error;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!0,error:u});default:return e}},Qr={isLoading:!1,isError:!1},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case Sr.LOAD_NETWORK_CONFIGURATION:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case Sr.NETWORK_CONFIGURATION_SUCCESS:var r=n.payload.nodeCryptoConfiguration;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,nodeCryptoConfiguration:r});case Sr.NETWORK_CONFIGURATION_ERROR:var c=n.payload.error;return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!1,error:c});default:return e}},ec=t(30),nc={transactions:{}},tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case ir.TRANSACTION_WAIT_FOR_CONFIRM:var r=n.payload,c=r.txId,a=r.txUuid;return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},Object(ec.a)({},a,{txId:c,isLoading:!0,isConfirmed:!1,isError:!1}))});case ir.TRANSACTION_CONFIRM_SUCCESS:var i=n.payload.txUuid;return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},Object(ec.a)({},i,Object(s.a)(Object(s.a)({},e.transactions[i]),{},{isError:!1,isLoading:!1,isConfirmed:!0})))});case Ke.CLAIM_ASSET_ERROR:var o=n.payload,l=o.txUuid,d=o.error;return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},Object(ec.a)({},l,Object(s.a)(Object(s.a)({},e.transactions[l]),{},{isError:!0,error:d,isLoading:!1,isConfirmed:!1})))});default:return e}},rc=Object(or.c)({app:Hr,network:Zr,assetClaim:Yr,transaction:tc,collections:$r}),cc=Object(sr.a)({dependencies:{connection:Rr,storage:I()}});Object(o.I)({mode:"md"});var ac=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||or.d,n=Object(or.e)(rc,e(Object(or.a)(cc)));return cc.run(qr),n}();a.a.render(Object(z.jsx)(i.a,{store:ac,children:Object(z.jsx)(ar,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},477:function(e,n,t){var r={"./ion-action-sheet.entry.js":[1067,5],"./ion-alert.entry.js":[1068,6],"./ion-app_8.entry.js":[1069,7],"./ion-avatar_3.entry.js":[1070,17],"./ion-back-button.entry.js":[1071,18],"./ion-backdrop.entry.js":[1072,43],"./ion-button_2.entry.js":[1073,19],"./ion-card_5.entry.js":[1074,20],"./ion-checkbox.entry.js":[1075,21],"./ion-chip.entry.js":[1076,22],"./ion-col_3.entry.js":[1077,44],"./ion-datetime_3.entry.js":[1078,10],"./ion-fab_3.entry.js":[1079,23],"./ion-img.entry.js":[1080,45],"./ion-infinite-scroll_2.entry.js":[1081,46],"./ion-input.entry.js":[1082,24],"./ion-item-option_3.entry.js":[1083,25],"./ion-item_8.entry.js":[1084,26],"./ion-loading.entry.js":[1085,27],"./ion-menu_3.entry.js":[1086,28],"./ion-modal.entry.js":[1087,8],"./ion-nav_2.entry.js":[1088,14],"./ion-popover.entry.js":[1089,9],"./ion-progress-bar.entry.js":[1090,29],"./ion-radio_2.entry.js":[1091,30],"./ion-range.entry.js":[1092,31],"./ion-refresher_2.entry.js":[1093,11],"./ion-reorder_2.entry.js":[1094,16],"./ion-ripple-effect.entry.js":[1095,47],"./ion-route_4.entry.js":[1096,32],"./ion-searchbar.entry.js":[1097,33],"./ion-segment_2.entry.js":[1098,34],"./ion-select_3.entry.js":[1099,35],"./ion-slide_2.entry.js":[1100,48],"./ion-spinner.entry.js":[1101,13],"./ion-split-pane.entry.js":[1102,49],"./ion-tab-bar_2.entry.js":[1103,36],"./ion-tab_2.entry.js":[1104,15],"./ion-text.entry.js":[1105,37],"./ion-textarea.entry.js":[1106,38],"./ion-toast.entry.js":[1107,39],"./ion-toggle.entry.js":[1108,12],"./ion-virtual-scroll.entry.js":[1109,50]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(r)},c.id=477,e.exports=c},479:function(e,n,t){var r={"./ion-icon.entry.js":[1110,57]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(r)},c.id=479,e.exports=c},629:function(e,n){},631:function(e,n){},639:function(e,n){},641:function(e,n){},676:function(e,n){},678:function(e,n){},750:function(e,n){},752:function(e,n){},850:function(e,n){},851:function(e,n){},977:function(e,n,t){},978:function(e,n,t){},979:function(e,n,t){}},[[1063,3,4]]]);
//# sourceMappingURL=main.4bef7a96.chunk.js.map